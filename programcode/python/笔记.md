# å¼•è¨€

Cç¨‹åºçŠ¹å¦‚æ‹¿ç€å‰ƒåˆ€åœ¨åˆšæ‰“è¿‡èœ¡çš„åœ°æ¿ä¸ŠåŠ²èˆã€‚

C++å­¦èµ·æ¥å¾ˆéš¾ï¼Œå› ä¸ºå®ƒå¤©ç”Ÿå¦‚æ­¤ã€‚

Javaä»å¾ˆå¤šæ–¹é¢æ¥è¯´ï¼Œå°±æ˜¯ç®€åŒ–ç‰ˆçš„C++ã€‚

Pythonæ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è§£é‡Šæ€§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå…·æœ‰åŠ¨æ€è¯­ä¹‰ã€‚

# 1ã€åŸºç¡€çŸ¥è¯†

## 1.1 äº¤äº’å¼è§£é‡Šå™¨

**å®‰è£…**
Linux/UNIX
> ä¸‹è½½æºç åï¼Œç¼–è¯‘å®‰è£…

windows
1ã€äº¤äº’å¼è§£é‡Šå™¨
```bat
C:\Users\xywan>python
Python 3.9.10 (tags/v3.9.10:f2f3f53, Jan 17 2022, 15:14:21) [MSC v.1929 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>>
```
2ã€å›¾å½¢ç”¨æˆ·ç•Œé¢
å¯åŠ¨Pythonè‡ªå¸¦çš„åº”ç”¨ç¨‹åºIDLE

## 1.2 ç®—æ³•æ˜¯ä»€ä¹ˆ

ç®—æ³•å°±åƒèœè°±ä¸€æ ·ï¼Œè¯¦å°½åœ°æè¿°äº†å¦‚ä½•å®ŒæˆæŸé¡¹ä»»åŠ¡ã€‚

## 1.3 æ•°å’Œè¡¨è¾¾å¼

```bat
>>> 53672 + 235253
288925

æµ®ç‚¹æ•°ï¼ˆfloatæˆ–floating-point numberï¼‰
>>> 1 / 2
0.5
>>> 1 / 1
1.0

æ•´é™¤è¿ç®—ï¼Œå¯ä½¿ç”¨åŒæ–œæ 
å‘ä¸‹å–æ•´
>>> 1 // 2
0
>>> 1 // 1
1
>>> 5.0 // 2.4
2.0
>>> 10 // 3
3
>>> -10 // 3
-4
>>> -10 // -3
3

æ±‚ä½™ï¼ˆæ±‚æ¨¡ï¼‰è¿ç®—ç¬¦ã€‚x % y çš„ç»“æœä¸ºxé™¤ä»¥yçš„ä½™æ•°ï¼Œç­‰ä»·äºx - ((x // y) * y)
>>> 10 % 3
1
>>> 10 % -3
-2
>>> -10 % 3
2
>>> -10 % -3
-1

ä¹˜æ–¹ï¼ˆæ±‚å¹‚ï¼‰è¿ç®—ç¬¦
>>> 2 ** 3
8
ä¹˜æ–¹è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”æ±‚è´Ÿï¼ˆå•ç›®å‡ï¼‰é«˜ï¼Œå› æ­¤-3**2ç­‰ä»·äº-(3**2)
>>> -3 ** 2
-9
>>> (-3) ** 2
9

åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶å’ŒäºŒè¿›åˆ¶
>>> 0xAF
175
>>> 010
8
>>> 0b1011010010
722
```

## 1.4 å˜é‡

**å˜é‡ä½¿ç”¨å‰å¿…é¡»èµ‹å€¼ï¼Œå› ä¸ºPythonå˜é‡æ²¡æœ‰é»˜è®¤å€¼ã€‚**

**åªèƒ½ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æ„æˆï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—æ‰“å¤´ã€‚**

```bat
èµ‹å€¼ï¼ˆassignmentï¼‰
>>> x = 3
```

## 1.5 è¯­å¥

è¡¨è¾¾å¼å’Œè¯­å¥çš„è¡Œä¸ºå¾ˆåƒï¼Œä½†ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚

```bat
ä»…å°†è¯¸å¦‚2 * 2ç­‰è¡¨è¾¾å¼æ”¾åœ¨ç¨‹åºä¸­ä¸ä¼šæœ‰ä»»ä½•ä½œç”¨ï¼Œä½†åœ¨ç¨‹åºä¸­åŒ…å«print(2 * 2)å°†æ‰“å°ç»“æœ4ã€‚

è¡¨è¾¾å¼
>>> 2 * 2
4
è¯­å¥
>>> print(2 * 2)
4
```

```bat
printè¯­å¥
>>> print('hello')
èµ‹å€¼è¯­å¥
>>> x = 3
```


## 1.6 è·å–ç”¨æˆ·è¾“å…¥

**inputå‡½æ•°**
```bat
>>> input("The meaning of life: ")
The meaning of life: 42
'42'

>>> x = input("x: ")
x: 34
>>> y = input("y: ")
y: 42
>>> print(int(x) * int(y))
1428
```

## 1.7 å‡½æ•°

**powå‡½æ•°**
```bat
>>> 2 ** 3
8
>>> pow(2, 3)
8
```

**Pythonå†…ç½®å‡½æ•°**
```bat
è®¡ç®—ç»å¯¹å€¼
>>> abs(-10)
10
>>> 2 // 3
0
è¿‘ä¼¼å‘ä¸Šå–æ•´
>>> round(2 / 3)
1.0
è¿‘ä¼¼å‘ä¸‹å–æ•´
>>> import math
>>> math.floor(2 / 3)
0
```

### 1.7.1 **Python 3å¸¸ç”¨å†…ç½®å‡½æ•°**
æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œæ–¹ä¾¿æŸ¥é˜…ï¼š
ğŸ“Š æ•°æ®ç±»å‹è½¬æ¢
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `int(x)` | è½¬æ¢ä¸ºæ•´æ•° | `int("123")` â†’ 123 |
| `float(x)` | è½¬æ¢ä¸ºæµ®ç‚¹æ•° | `float("3.14")` â†’ 3.14 |
| `str(x)` | è½¬æ¢ä¸ºå­—ç¬¦ä¸² | `str(123)` â†’ "123" |
| `bool(x)` | è½¬æ¢ä¸ºå¸ƒå°”å€¼ | `bool(0)` â†’ False |
| `list(x)` | è½¬æ¢ä¸ºåˆ—è¡¨ | `list("abc")` â†’ ['a', 'b', 'c'] |
| `tuple(x)` | è½¬æ¢ä¸ºå…ƒç»„ | `tuple([1,2])` â†’ (1, 2) |
| `set(x)` | è½¬æ¢ä¸ºé›†åˆ | `set([1,2,2])` â†’ {1, 2} |
| `dict(x)` | è½¬æ¢ä¸ºå­—å…¸ | `dict([('a',1)])` â†’ {'a': 1} |
---
ğŸ”¢ æ•°å­¦è¿ç®—
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `abs(x)` | ç»å¯¹å€¼ | `abs(-5)` â†’ 5 |
| `round(x, n)` | å››èˆäº”å…¥ | `round(3.14159, 2)` â†’ 3.14 |
| `min(iterable)` | æœ€å°å€¼ | `min([1, 2, 3])` â†’ 1 |
| `max(iterable)` | æœ€å¤§å€¼ | `max([1, 2, 3])` â†’ 3 |
| `sum(iterable)` | æ±‚å’Œ | `sum([1, 2, 3])` â†’ 6 |
| `pow(x, y)` | xçš„yæ¬¡æ–¹ | `pow(2, 3)` â†’ 8 |
| `divmod(a, b)` | å•†å’Œä½™æ•° | `divmod(10, 3)` â†’ (3, 1) |
---
ğŸ” åºåˆ—æ“ä½œ
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `len(obj)` | è¿”å›é•¿åº¦/å…ƒç´ ä¸ªæ•° | `len("hello")` â†’ 5 |
| `sorted(iterable)` | è¿”å›æ’åºåˆ—è¡¨ | `sorted([3,1,2])` â†’ [1, 2, 3] |
| `reversed(seq)` | è¿”å›åå‘è¿­ä»£å™¨ | `list(reversed([1,2,3]))` â†’ [3, 2, 1] |
| `slice(start, stop)` | åˆ‡ç‰‡å¯¹è±¡ | `a[slice(1,3)]` |
| `enumerate(iterable)` | è¿”å›ç´¢å¼•å’Œå€¼ | `list(enumerate(['a','b']))` â†’ [(0,'a'), (1,'b')] |
| `zip(*iterables)` | æ‰“åŒ…å¤šä¸ªè¿­ä»£å™¨ | `list(zip([1,2], ['a','b']))` â†’ [(1,'a'), (2,'b')] |
| `all(iterable)` | æ‰€æœ‰å…ƒç´ ä¸ºTrueè¿”å›True | `all([True, False])` â†’ False |
| `any(iterable)` | ä»»ä¸€å…ƒç´ ä¸ºTrueè¿”å›True | `any([False, True])` â†’ True |
---
ğŸ¯ é«˜é˜¶å‡½æ•°
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `map(func, iterable)` | å¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•° | `list(map(str, [1,2,3]))` â†’ ['1', '2', '3'] |
| `filter(func, iterable)` | è¿‡æ»¤å…ƒç´  | `list(filter(lambda x: x>2, [1,2,3]))` â†’ [3] |
| `reduce(func, iterable)` | ç´¯ç§¯è®¡ç®— | `from functools import reduce; reduce(lambda x,y: x+y, [1,2,3])` â†’ 6 |
| `lambda` | åŒ¿åå‡½æ•° | `lambda x: x*2` |
---
ğŸ“ å­—ç¬¦ä¸²ç›¸å…³
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `format()` | æ ¼å¼åŒ–å­—ç¬¦ä¸² | `format(3.14, ".2f")` â†’ "3.14" |
| `chr(code)` | Unicodeç è½¬å­—ç¬¦ | `chr(65)` â†’ 'A' |
| `ord(char)` | å­—ç¬¦è½¬Unicodeç  | `ord('A')` â†’ 65 |
---
ğŸ—‚ï¸ å¯¹è±¡/å±æ€§ç›¸å…³
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `type(obj)` | è¿”å›å¯¹è±¡ç±»å‹ | `type(123)` â†’ <class 'int'> |
| `isinstance(obj, class)` | åˆ¤æ–­æ˜¯å¦ä¸ºæŸç±»å®ä¾‹ | `isinstance(123, int)` â†’ True |
| `hasattr(obj, attr)` | åˆ¤æ–­æ˜¯å¦æœ‰æŸå±æ€§ | `hasattr([], "append")` â†’ True |
| `getattr(obj, attr)` | è·å–å±æ€§å€¼ | `getattr([], "__len__")` |
| `setattr(obj, attr, val)` | è®¾ç½®å±æ€§å€¼ | `setattr(obj, "x", 1)` |
| `id(obj)` | è¿”å›å¯¹è±¡å†…å­˜åœ°å€ | `id(123)` |
| `dir(obj)` | è¿”å›å¯¹è±¡å±æ€§åˆ—è¡¨ | `dir("")` |
---
ğŸ”§ è¾“å…¥è¾“å‡º
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `print()` | æ‰“å°è¾“å‡º | `print("Hello")` |
| `input()` | æ¥æ”¶ç”¨æˆ·è¾“å…¥ | `name = input("è¯·è¾“å…¥ï¼š")` |
---
âš™ï¸ å…¶ä»–å®ç”¨å‡½æ•°
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `range(start, stop)` | ç”Ÿæˆæ•°å­—åºåˆ— | `list(range(3))` â†’ [0, 1, 2] |
| `iter(obj)` | è¿”å›è¿­ä»£å™¨ | `iter([1,2,3])` |
| `next(iterator)` | è¿­ä»£å™¨ä¸‹ä¸€ä¸ªå€¼ | `next(iter([1,2,3]))` â†’ 1 |
| `help(obj)` | æ˜¾ç¤ºå¸®åŠ©æ–‡æ¡£ | `help(print)` |
| `globals()` | è¿”å›å…¨å±€å˜é‡å­—å…¸ | `globals()` |
| `locals()` | è¿”å›å±€éƒ¨å˜é‡å­—å…¸ | `locals()` |
---
ğŸ’¡ æœ€å¸¸ç”¨çš„10ä¸ªå†…ç½®å‡½æ•°
å¦‚æœä½ æƒ³å…ˆæŒæ¡æœ€æ ¸å¿ƒçš„ï¼ŒæŒ‰ä¼˜å…ˆçº§è®°ä½è¿™10ä¸ªï¼š
1. **`print()`** - è¾“å‡º
2. **`len()`** - é•¿åº¦
3. **`input()`** - è¾“å…¥
4. **`int()` / `float()` / `str()`** - ç±»å‹è½¬æ¢
5. **`range()`** - æ•°å­—åºåˆ—
6. **`list()` / `dict()`** - åˆ›å»ºå®¹å™¨
7. **`sorted()`** - æ’åº
8. **`map()`** - æ‰¹é‡å¤„ç†
9. **`enumerate()`** - å¸¦ç´¢å¼•éå†
10. **`zip()`** - å¤šåˆ—è¡¨ç»„åˆ
---
è¿™äº›æ˜¯ Python 3 æœ€å¸¸ç”¨çš„å†…ç½®å‡½æ•°ï¼Œå…¨éƒ¨åœ¨å®˜æ–¹æ–‡æ¡£çš„ **Built-in Functions** ç« èŠ‚ï¼š
https://docs.python.org/zh-cn/3/library/functions.html


## 1.8 æ¨¡å—

å¯å°†æ¨¡å—è§†ä¸ºæ‰©å±•ï¼Œé€šè¿‡å°†å…¶å¯¼å…¥å¯ä»¥æ‰©å±•PythonåŠŸèƒ½ã€‚
è¦å¯¼å…¥æ¨¡å—ï¼Œå¯ä½¿ç”¨ç‰¹æ®Šå‘½ä»¤`import xxxx`

```bat
>>> import math
>>> math.floor(32.9)
32
>>> math.ceil(32.3)
33

é€šè¿‡ä½¿ç”¨å‘½ä»¤importçš„å˜ç§from module import functionï¼Œå¯åœ¨è°ƒç”¨å‡½æ•°æ—¶ä¸æŒ‡å®šæ¨¡å—å‰ç¼€ã€‚
>>> from math import sqrt
è®¡ç®—å¹³æ–¹æ ¹
>>> sqrt(9)
3.0

nanå…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼ŒæŒ‡çš„æ˜¯â€œéæ•°å€¼â€ï¼ˆnot a numberï¼‰ã€‚
>>> sqrt(-1)
nan
```

è´Ÿæ•°çš„å¹³æ–¹æ ¹ä¸ºè™šæ•°ï¼Œè€Œç”±å®éƒ¨å’Œè™šéƒ¨ç»„æˆçš„æ•°ä¸ºå¤æ•°ã€‚
Pythonæ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºå¤„ç†å¤æ•°çš„æ¨¡å—ã€‚

Pythonæ²¡æœ‰ä¸“é—¨è¡¨ç¤ºè™šæ•°çš„ç±»å‹ï¼Œè€Œå°†è™šæ•°è§†ä¸ºå®éƒ¨ä¸ºé›¶çš„å¤æ•°ã€‚
```bat
>>> import cmath
>>> cmath.sqrt(-1)
1j

>>> (1 + 3j) * (9 + 4j)
(-3 + 31j)
```

å¯¹äºPythonå½“å‰ä¸æ”¯æŒï¼Œä½†æœªæ¥å°†æˆä¸ºæ ‡å‡†ç»„æˆéƒ¨åˆ†çš„åŠŸèƒ½ï¼Œä½ å¯ä»è¿™ä¸ªæ¨¡å—è¿›è¡Œå¯¼å…¥ã€‚
```bat
>>> from __future__ import division
```

## 1.9 ä¿å­˜å¹¶æ‰§è¡Œç¨‹åº

**æºç æ–‡ä»¶ï¼š`*.py`**

**æ‰§è¡Œï¼š`python *.py`**

åªæœ‰å•è¡Œæ³¨é‡Šï¼š`# æ³¨é‡Šå†…å®¹`

## 1.10 å­—ç¬¦ä¸²

**åŒæ—¶æ”¯æŒå•å¼•å·å’ŒåŒå¼•å·**

**å®é™…ä¸Šï¼Œåƒ`int()`ä¸€æ ·ï¼Œ`str()`ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä½†`repr()`æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚**

```bat
è½¬ä¹‰
>>> 'Let\'s go!'
"Let's go!"
>>> "\"Hello, world!\" she said"
'"Hello, world!" she said'

å­—ç¬¦ä¸²æ‹¼æ¥ï¼š+å·
>>> "Hello, " + "world!"
'Hello, world!'

str()å’Œrepr()åŒºåˆ«
repråœ¨ç¼–å†™åŸå§‹æ­£åˆ™è¡¨è¾¾å¼ä¼šæœ‰ç”¨ï¼Œä¿æŒå­—ç¬¦ä¸²åŸå§‹å†…å®¹
>>> print(repr("Hello,\nworld!")) 
'Hello,\nworld!'
>>> print(str("Hello,\nworld!"))
Hello,
world!

ä¸‰å¼•å·ï¼š"""xxxxx""" æˆ–è€… '''xxxx'''
print('''This is a very long string. It continues here.
And it's not over yet. "Hello, world!"
Still here.''')

>>> path = 'C:\nowhere'
>>> path
'C:\nowhere'
>>> print(path)
C:
owhere
æ”¹è¿›ï¼š
è½¬ä¹‰
>>> print('C:\\nowhere')
C:\nowhere
åŸå§‹å­—ç¬¦ä¸²ç”¨å‰ç¼€rè¡¨ç¤º
>>> print(r'C:\nowhere')
C:\nowhere
```

**Unicodeã€byteså’Œbytearray**
> Pythonå­—ç¬¦ä¸²ä½¿ç”¨Unicodeç¼–ç æ¥è¡¨ç¤ºæ–‡æœ¬ã€‚

æ¯ä¸ªUnicodeå­—ç¬¦éƒ½ç”¨ä¸€ä¸ªç ç‚¹ï¼ˆcode pointï¼‰è¡¨ç¤ºï¼Œè€Œç ç‚¹æ˜¯Unicodeæ ‡å‡†ç»™æ¯ä¸ªå­—ç¬¦æŒ‡å®šçš„æ•°å­—ã€‚

æœ‰ä¸€ç§æŒ‡å®šUnicodeå­—ç¬¦çš„é€šç”¨æœºåˆ¶ï¼š
> ä½¿ç”¨16æˆ–32ä½çš„åå…­è¿›åˆ¶å­—é¢é‡ï¼ˆåˆ†åˆ«åŠ ä¸Šå‰ç¼€\uæˆ–\Uï¼‰æˆ–è€…ä½¿ç”¨å­—ç¬¦çš„Unicodeåç§°ï¼ˆ\N{name}ï¼‰

```bat
>>> "\u00C6"
'Ã†'
>>> "\U0001F60A"
'â˜º '
```

æŸ¥è¯¢å­—ç¬¦å’Œå¯¹åº”çš„unicodeï¼šhttp://unicode-table.com

åœ¨å†…å­˜å’Œç£ç›˜ä¸­ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶æ•°å­—ï¼ˆ0å’Œ1ï¼‰è¡¨ç¤ºçš„ï¼ˆè¿™äº›æ•°å­—æ¯8ä¸ªä¸ºä¸€ç»„ï¼Œå³1å­—èŠ‚ï¼‰ï¼Œå­—ç¬¦ä¸²ä¹Ÿä¸ä¾‹å¤–ã€‚

Pythonæä¾›äº†ä¸¤ç§ç±»ä¼¼çš„ç±»å‹ï¼š**ä¸å¯å˜çš„byteså’Œå¯å˜çš„bytearray**ã€‚å¦‚æœéœ€è¦ï¼Œå¯ç›´æ¥åˆ›å»ºbyteså¯¹è±¡ï¼ˆè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼‰ã€‚

```bat
ä½¿ç”¨å‰ç¼€b
>>> b'Hello, world!'
b'Hello, world!'
```

ç„¶è€Œï¼Œ1å­—èŠ‚åªèƒ½è¡¨ç¤º256ä¸ªä¸åŒçš„å€¼ï¼Œç¦»Unicodeæ ‡å‡†çš„è¦æ±‚å·®å¾ˆè¿œã€‚
Python byteså­—é¢é‡åªæ”¯æŒASCIIæ ‡å‡†ä¸­çš„128ä¸ªå­—ç¬¦ï¼Œè€Œä½™ä¸‹çš„128ä¸ªå€¼å¿…é¡»ç”¨è½¬ä¹‰åºåˆ—è¡¨ç¤ºï¼Œå¦‚\xf0è¡¨ç¤ºåå…­è¿›åˆ¶å€¼0xf0ï¼ˆå³240ï¼‰ã€‚

**UTF-32ï¼ˆ32ä½ç»Ÿä¸€ç¼–ç è½¬æ¢æ ¼å¼ï¼ŒUnicode Transformation Format 32 bitsï¼‰**

```bat
>>> "Hello, world!".encode("ASCII")
b'Hello, world!'
>>> "Hello, world!".encode("UTF-8")
b'Hello, world!'
>>> "Hello, world!".encode("UTF-32")
b'\xff\xfe\x00\x00H\x00\x00\x00e\x00\x00\x00l\x00\x00\x00l\x00\x00\x00o\x00\x00\x00,\x00\
x00\x00 \x00\x00\x00w\x00\x00\x00o\x00\x00\x00r\x00\x00\x00l\x00\x00\x00d\x00\x00\x00!\x00\
x00\x00'

>>> len("How long is this?".encode("UTF-8"))
17
>>> len("How long is this?".encode("UTF-32"))
72

å­—ç¬¦ä¸²åŒ…å«è¾ƒæ€ªå¼‚çš„å­—ç¬¦ï¼ŒASCIIå°±ä¸è¡Œäº†
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode("ASCII")
Traceback (most recent call last):
...
UnicodeEncodeError: 'ascii' codec can't encode character '\xe6' in position 1: ordinal not
in range(128)

æ–¯å ªçš„çº³ç»´äºšå­—æ¯æ²¡æœ‰å¯¹åº”çš„ASCIIç¼–ç ã€‚
å¦‚æœå¿…é¡»ä½¿ç”¨ASCIIç¼–ç ï¼ˆè¿™æ ·çš„æƒ…å†µè‚¯å®šä¼šé‡åˆ°ï¼‰ï¼Œå¯å‘encodeæä¾›å¦ä¸€ä¸ªå®å‚ï¼Œå‘Šè¯‰å®ƒå¦‚ä½•å¤„ç†é”™è¯¯ã€‚è¿™ä¸ªå‚æ•°é»˜è®¤ä¸ºstrictï¼Œä½†å¯å°†å…¶æŒ‡å®šä¸ºå…¶ä»–å€¼ï¼Œä»¥å¿½ç•¥æˆ–æ›¿æ¢ä¸åœ¨ASCIIè¡¨ä¸­çš„å­—ç¬¦ã€‚
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode("ASCII", "ignore")
b'Hll, wrld!'
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode("ASCII", "replace")
b'H?ll?, w?rld!'
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode("ASCII", "backslashreplace")
b'H\\xe6ll\\xe5, w\\xf8rld!'
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode("ASCII", "xmlcharrefreplace")
b'H&#230;ll&#229;, w&#248;rld!'
```

**æœ€å¥½ä½¿ç”¨UTF-8ã€‚äº‹å®ä¸Šï¼Œå®ƒä¹Ÿæ˜¯é»˜è®¤ä½¿ç”¨çš„ç¼–ç ã€‚**

```bat
é»˜è®¤ä½¿ç”¨utf-8ç¼–ç 
>>> "HÃ¦llÃ¥, wÃ¸rld!".encode()
b'H\xc3\xa6ll\xc3\xa5, w\xc3\xb8rld!'
>>> b'H\xc3\xa6ll\xc3\xa5, w\xc3\xb8rld!'.decode()
'HÃ¦llÃ¥, wÃ¸rld!'

>>> bytes("HÃ¦llÃ¥, wÃ¸rld!", encoding="utf-8")
b'H\xc3\xa6ll\xc3\xa5, w\xc3\xb8rld!'
>>> str(b'H\xc3\xa6ll\xc3\xa5, w\xc3\xb8rld!', encoding="utf-8")
'HÃ¦llÃ¥, wÃ¸rld!'
```

pyæºç é»˜è®¤ä½¿ç”¨utf-8ç¼–ç ï¼Œå¯ä»¥ä½¿ç”¨`# -*- coding: encoding name -*-`æ¥åˆ¶å®šç¼–ç æ ¼å¼ã€‚
`encoding name`æ›¿æ¢ä¸ºè¦ä½¿ç”¨çš„ç¼–ç ï¼ˆå¤§å°å†™éƒ½è¡Œï¼‰ï¼Œå¦‚utf-8æˆ–latin-1ã€‚

bytearrayï¼Œå®ƒæ˜¯bytesçš„å¯å˜ç‰ˆã€‚
ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œå®ƒå°±åƒæ˜¯å¯ä¿®æ”¹çš„å­—ç¬¦ä¸²ï¼ˆ**å¸¸è§„å­—ç¬¦ä¸²æ˜¯ä¸èƒ½ä¿®æ”¹çš„**ï¼‰
```bat
>>> x = bytearray(b"Hello!")
>>> x[1] = ord(b"u")
>>> x
bytearray(b'Hullo!')
```

# 2ã€åˆ—è¡¨å’Œå…ƒç»„

```bat
>>> john = ['John Smith', 50]
>>> database = [edward, john]
>>> database
[['Edward Gumby', 42], ['John Smith', 50]]

```

## 2.1 åºåˆ—æ¦‚è¿°



## 2.2 é€šç”¨çš„åºåˆ—æ“ä½œ

**ç´¢å¼•ï¼Œä»0å¼€å§‹ï¼Œæˆ–è€…ä»-1å¼€å§‹**
```bat
å­—ç¬¦ä¸²å°±æ˜¯ç”±å­—ç¬¦ç»„æˆçš„åºåˆ—
Pythonæ²¡æœ‰ä¸“é—¨ç”¨äºè¡¨ç¤ºå­—ç¬¦çš„ç±»å‹
>>> greeting = 'Hello'
>>> greeting[0]
'H'
```

**åˆ‡ç‰‡**
ç´¢å¼•ï¼šç”¨æ¥è®¿é—®å•ä¸ªå…ƒç´ 
åˆ‡ç‰‡ï¼šè®¿é—®ç‰¹å®šèŒƒå›´å†…çš„å…ƒç´ ï¼ˆå·¦é—­å³å¼€ï¼‰
```bat
>>> numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
>>> numbers[3:6] [4, 5, 6]
>>> numbers[0:1] [1]
>>> numbers[-3:-1]
[8, 9]
>>> numbers[-3:]
[8, 9, 10]
>>> numbers[:]
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

æŒ‡å®šæ­¥é•¿ï¼Œæ­¥é•¿ä¸èƒ½ä¸º0ï¼Œå¦åˆ™æ— æ³•å‘å‰ç§»åŠ¨ï¼Œä½†å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œå³ä»å³å‘å·¦æå–å…ƒç´ ã€‚
>>> numbers[0:10:2]
[1, 3, 5, 7, 9]
>>> numbers[8:3:-1]
[9, 8, 7, 6, 5]
```

**ç›¸åŠ **

```bat
ä½¿ç”¨åŠ æ³•è¿ç®—ç¬¦æ¥æ‹¼æ¥åºåˆ—
>>> [1, 2, 3] + [4, 5, 6]
[1, 2, 3, 4, 5, 6]
>>> 'Hello,' + 'world!'
'Hello, world!'

ä¸èƒ½æ‹¼æ¥ä¸åŒç±»å‹çš„åºåˆ—
>>> [1, 2, 3] + 'world!'
Traceback (innermost last):
File "<pyshell>", line 1, in ?
[1, 2, 3] + 'world!'
TypeError: can only concatenate list (not "string") to list
```

**ä¹˜æ³•**
```bat
åºåˆ—ä¸æ•°xç›¸ä¹˜æ—¶ï¼Œå°†é‡å¤è¿™ä¸ªåºåˆ—xæ¬¡æ¥åˆ›å»ºä¸€ä¸ªæ–°åºåˆ—
>>> 'python' * 5
'pythonpythonpythonpythonpython'
>>> [42] * 10
[42, 42, 42, 42, 42, 42, 42, 42, 42, 42]
```

**ç©ºåˆ—è¡¨å’ŒNone**
ç©ºåˆ—è¡¨ï¼š`[]`
Noneï¼šè¡¨ç¤ºä»€ä¹ˆéƒ½æ²¡æœ‰

**inè¿ç®—ç¬¦**
```bat
>>> permissions = 'rw'
>>> 'w' in permissions
True
>>> 'x' in permissions
False
```

**é•¿åº¦ã€æœ€å°å€¼å’Œæœ€å¤§å€¼**
```bat
>>> numbers = [100, 34, 678]
>>> len(numbers)
3
>>> max(numbers)
678
>>> min(numbers)
34

è°ƒç”¨maxå’Œminæ—¶æŒ‡å®šçš„å®å‚å¯ä»¥ä¸æ˜¯åºåˆ—ï¼Œè€Œç›´æ¥å°†æ•°ä½œä¸ºå®å‚
>>> max(2, 3)
3
>>> min(9, 3, 2, 5)
2
```



## 2.3 åˆ—è¡¨ï¼šPython çš„ä¸»åŠ›

Python åˆ—è¡¨æ˜¯**æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„**ä¹‹ä¸€ï¼Œ

### 2.3.1 åˆ—è¡¨å¸¸ç”¨æ–¹æ³•
ğŸ“‹ åˆ—è¡¨åŸºç¡€æ“ä½œ
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `list()` | åˆ›å»ºåˆ—è¡¨ | `list("abc")` â†’ ['a', 'b', 'c'] |
| `len(lst)` | è¿”å›åˆ—è¡¨é•¿åº¦ | `len([1, 2, 3])` â†’ 3 |
| `list[index]` | ç´¢å¼•è®¿é—® | `lst[0]` |
| `list[start:stop]` | åˆ‡ç‰‡ | `lst[1:3]` |
| `list[start:stop:step]` | å¸¦æ­¥é•¿åˆ‡ç‰‡ | `lst[::2]` |
| `in` | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ | `3 in [1, 2, 3]` â†’ True |
---
â• æ·»åŠ å…ƒç´ 
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `append(x)` | åœ¨æœ«å°¾æ·»åŠ å•ä¸ªå…ƒç´  | `lst.append(4)` |
| `extend(iterable)` | åœ¨æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´  | `lst.extend([5,6])` |
| `insert(index, x)` | åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´  | `lst.insert(0, 'first')` |
| `+` | æ‹¼æ¥ä¸¤ä¸ªåˆ—è¡¨ | `[1,2] + [3,4]` â†’ [1,2,3,4] |
| `* n` | é‡å¤næ¬¡ | `[1] * 3` â†’ [1,1,1] |
```python
# ç¤ºä¾‹
lst = [1, 2, 3]
lst.append(4)              # [1, 2, 3, 4]
lst.extend([5, 6])         # [1, 2, 3, 4, 5, 6]
lst.insert(1, 'new')       # [1, 'new', 2, 3, 4, 5, 6]
```
---
â– åˆ é™¤å…ƒç´ 
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `remove(x)` | åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´  | `lst.remove(3)` |
| `pop(index)` | åˆ é™¤å¹¶è¿”å›æŒ‡å®šä½ç½®å…ƒç´  | `lst.pop(0)` |
| `pop()` | åˆ é™¤å¹¶è¿”å›æœ«å°¾å…ƒç´  | `lst.pop()` |
| `del lst[index]` | åˆ é™¤æŒ‡å®šä½ç½® | `del lst[0]` |
| `del lst[start:stop]` | åˆ é™¤åˆ‡ç‰‡ | `del lst[1:3]` |
| `clear()` | æ¸…ç©ºåˆ—è¡¨ | `lst.clear()` |
```python
# ç¤ºä¾‹
lst = [1, 2, 3, 4, 5]
lst.remove(3)      # [1, 2, 4, 5] - åˆ é™¤ç¬¬ä¸€ä¸ª3
lst.pop(0)         # [2, 4, 5] - åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
lst.pop()          # [2, 4] - åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 
del lst[1:2]       # [2] - åˆ é™¤åˆ‡ç‰‡
lst.clear()        # [] - æ¸…ç©ºåˆ—è¡¨
```
---
ğŸ”„ ä¿®æ”¹å…ƒç´ 
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `lst[index] = x` | ä¿®æ”¹æŒ‡å®šä½ç½®å…ƒç´  | `lst[0] = 100` |
| `lst[start:stop] = iterable` | æ‰¹é‡æ›¿æ¢åˆ‡ç‰‡ | `lst[1:3] = [9, 9]` |
| `reverse()` | åè½¬åˆ—è¡¨ï¼ˆåŸåœ°ï¼‰ | `lst.reverse()` |
| `sort(key=None, reverse=False)` | æ’åºï¼ˆåŸåœ°ï¼‰ | `lst.sort()` |
```python
# ç¤ºä¾‹
lst = [1, 2, 3, 4, 5]
lst[0] = 100              # [100, 2, 3, 4, 5]
lst[1:3] = [9, 9]         # [100, 9, 9, 4, 5]
lst.reverse()             # [5, 4, 9, 9, 100]
lst.sort()                # [4, 5, 9, 9, 100]
```
---
ğŸ” æŸ¥æ‰¾å’Œç»Ÿè®¡
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `index(x)` | è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼• | `lst.index(3)` |
| `index(x, start, stop)` | åœ¨æŒ‡å®šèŒƒå›´å†…æŸ¥æ‰¾ç´¢å¼• | `lst.index(3, 2, 5)` |
| `count(x)` | ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•° | `lst.count(3)` |
| `in` / `not in` | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ | `3 in lst` |
```python
# ç¤ºä¾‹
lst = [1, 2, 3, 3, 4, 5]
lst.index(3)       # 2 - ç¬¬ä¸€ä¸ª3çš„ç´¢å¼•
lst.count(3)       # 2 - 3å‡ºç°äº†2æ¬¡
3 in lst           # True
```
---
ğŸ”§ æ’åºå’Œåè½¬
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `sort()` | åŸåœ°æ’åºï¼ˆæ”¹å˜åŸåˆ—è¡¨ï¼‰ | `lst.sort()` |
| `sort(reverse=True)` | é™åºæ’åº | `lst.sort(reverse=True)` |
| `sort(key=func)` | æŒ‰å‡½æ•°ç»“æœæ’åº | `lst.sort(key=len)` |
| `sorted(lst)` | è¿”å›æ–°æ’åºåˆ—è¡¨ï¼ˆä¸æ”¹å˜åŸåˆ—è¡¨ï¼‰ | `sorted(lst)` |
| `reverse()` | åŸåœ°åè½¬ | `lst.reverse()` |
| `reversed(lst)` | è¿”å›åå‘è¿­ä»£å™¨ | `list(reversed(lst))` |
```python
# ç¤ºä¾‹
lst = [3, 1, 4, 1, 5]
lst.sort()                     # [1, 1, 3, 4, 5] - åŸåœ°æ’åº
lst.sort(reverse=True)         # [5, 4, 3, 1, 1] - é™åº
# æŒ‰å­—ç¬¦ä¸²é•¿åº¦æ’åº
words = ['apple', 'pie', 'banana']
words.sort(key=len)            # ['pie', 'apple', 'banana']
# reverse() vs reversed()
lst.reverse()                  # [1, 1, 3, 4, 5] - åŸåœ°åè½¬
new_lst = list(reversed(lst))  # [5, 4, 3, 1, 1] - è¿”å›æ–°åˆ—è¡¨
```
---
ğŸ“Š å…¶ä»–å¸¸ç”¨æ“ä½œ
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `copy()` | åˆ›å»ºåˆ—è¡¨çš„æµ…æ‹·è´ | `new_lst = lst.copy()` |
| `lst1 == lst2` | æ¯”è¾ƒä¸¤ä¸ªåˆ—è¡¨æ˜¯å¦ç›¸ç­‰ | `[1,2] == [1,2]` â†’ True |
| `list(iterable)` | å°†å¯è¿­ä»£å¯¹è±¡è½¬ä¸ºåˆ—è¡¨ | `list((1,2,3))` â†’ [1,2,3] |
| `min(lst)` | æœ€å°å€¼ | `min([1,2,3])` â†’ 1 |
| `max(lst)` | æœ€å¤§å€¼ | `max([1,2,3])` â†’ 3 |
| `sum(lst)` | æ±‚å’Œ | `sum([1,2,3])` â†’ 6 |
```python
# ç¤ºä¾‹
lst = [1, 2, 3]
new_lst = lst.copy()        # [1, 2, 3] - æµ…æ‹·è´
min(lst)                    # 1
max(lst)                    # 3
sum(lst)                    # 6
```
---
ğŸ¯ åˆ—è¡¨æ¨å¯¼å¼ï¼ˆé‡è¦ï¼‰
```python
# åŸºç¡€è¯­æ³•
[è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡ if æ¡ä»¶]
# ç¤ºä¾‹
numbers = [1, 2, 3, 4, 5]
# å¹³æ–¹
squares = [x**2 for x in numbers]           # [1, 4, 9, 16, 25]
# è¿‡æ»¤å¶æ•°
evens = [x for x in numbers if x % 2 == 0]  # [2, 4]
# å¸¦æ¡ä»¶è¡¨è¾¾å¼
result = ["å¶æ•°" if x % 2 == 0 else "å¥‡æ•°" for x in numbers]
# ['å¥‡æ•°', 'å¶æ•°', 'å¥‡æ•°', 'å¶æ•°', 'å¥‡æ•°']
```
---
ğŸ’¡ æœ€å¸¸ç”¨çš„10ä¸ªåˆ—è¡¨æ“ä½œ
| ä¼˜å…ˆçº§ | æ–¹æ³• | ä½¿ç”¨é¢‘ç‡ |
|--------|------|----------|
| â­â­â­â­â­ | `append()` | å‡ ä¹æ¯æ¬¡ç”¨åˆ—è¡¨éƒ½ä¼šç”¨ |
| â­â­â­â­â­ | `len()` | è·å–é•¿åº¦ |
| â­â­â­â­ | `index()` | æŸ¥æ‰¾å…ƒç´ ä½ç½® |
| â­â­â­â­ | `pop()` | åˆ é™¤å…ƒç´  |
| â­â­â­â­ | `sort()` | æ’åº |
| â­â­â­ | `remove()` | åˆ é™¤æŒ‡å®šå€¼ |
| â­â­â­ | `extend()` | æ‰¹é‡æ·»åŠ  |
| â­â­â­ | `reverse()` | åè½¬ |
| â­â­ | `insert()` | æŒ‡å®šä½ç½®æ’å…¥ |
| â­â­ | `count()` | ç»Ÿè®¡æ¬¡æ•° |
---
ğŸ“š å®˜æ–¹æ–‡æ¡£
å®Œæ•´åˆ—è¡¨æ–¹æ³•å‚è€ƒï¼šhttps://docs.python.org/zh-cn/3/tutorial/datastructures.html#more-on-lists


åˆ›å»ºåˆ—è¡¨ï¼š`list()`

```bat
å¯å°†ä»»ä½•åºåˆ—ï¼ˆè€Œä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²ï¼‰ä½œä¸ºlistçš„å‚æ•°
>>> list('Hello')
['H', 'e', 'l', 'l', 'o']

å°†åˆ—è¡¨è½¬æˆå­—ç¬¦ä¸²
''.join(somelist)
```

```bat
ä¿®æ”¹åˆ—è¡¨ï¼šç»™å…ƒç´ èµ‹å€¼
>>> x = [1, 1, 1]
>>> x[1] = 2
>>> x
[1, 2, 1]

åˆ é™¤å…ƒç´ 
>>> names = ['Alice', 'Beth', 'Cecil', 'Dee-Dee', 'Earl']
>>> del names[2]
>>> names
['Alice', 'Beth', 'Dee-Dee', 'Earl']

ç»™åˆ‡ç‰‡èµ‹å€¼ï¼ˆå¯åŒæ—¶ç»™å¤šä¸ªå…ƒç´ èµ‹å€¼ï¼‰
>>> name = list('Perl')
>>> name
['P', 'e', 'r', 'l']
>>> name[2:] = list('ar')
>>> name
['P', 'e', 'a', 'r']

ä½¿ç”¨åˆ‡ç‰‡èµ‹å€¼è¿˜å¯åœ¨ä¸æ›¿æ¢åŸæœ‰å…ƒç´ çš„æƒ…å†µä¸‹æ’å…¥æ–°å…ƒç´ 
>>> numbers = [1, 5]
>>> numbers[1:1] = [2, 3, 4]
>>> numbers
[1, 2, 3, 4, 5]

åˆ é™¤åˆ‡ç‰‡
>>> numbers
[1, 2, 3, 4, 5]
>>> numbers[1:4] = []
>>> numbers
[1, 5]
æ•ˆæœç­‰åŒ
del numbers[1:4]
```

**åˆ—è¡¨æ–¹æ³•**
```bat
appendæ–¹æ³•
>>> lst = [1, 2, 3]
>>> lst.append(4)
>>> lst
[1, 2, 3, 4]

å°±åœ°æ¸…ç©ºåˆ—è¡¨çš„å†…å®¹ï¼Œç±»ä¼¼äºåˆ‡ç‰‡èµ‹å€¼è¯­å¥lst[:] = []
>>> lst = [1, 2, 3]
>>> lst.clear()
>>> lst
[]

å¤åˆ¶åˆ—è¡¨
>>> a = [1, 2, 3]
>>> b = a
>>> b[1] = 4
>>> a
[1, 4, 3]
è¦è®©aå’ŒbæŒ‡å‘ä¸åŒçš„åˆ—è¡¨ï¼Œå¿…é¡»æ‹·è´ä¸€ä¸ªaçš„å‰¯æœ¬ç»™b
>>> a = [1, 2, 3]
>>> b = a.copy()
>>> b[1] = 4
>>> a
[1, 2, 3]
ç±»ä¼¼
b = list(a)
æˆ–è€…
b = a[:]

æ–¹æ³•countè®¡ç®—æŒ‡å®šçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°äº†å¤šå°‘æ¬¡
>>> ['to', 'be', 'or', 'not', 'to', 'be'].count('to')
2
>>> x = [[1, 2], 1, 1, [2, 1, [1, 2]]]
>>> x.count(1)
2
>>> x.count([1, 2])
1

ä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨æ¥æ‰©å±•å¦ä¸€ä¸ªåˆ—è¡¨
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> a.extend(b)
>>> a
[1, 2, 3, 4, 5, 6]

extendå’Œ+ä¸åŒï¼Œ+æ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„åˆ—è¡¨
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> a + b
[1, 2, 3, 4, 5, 6]
>>> a
[1, 2, 3]

æ–¹æ³•indexï¼šåœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šå€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
>>> knights = ['We', 'are', 'the', 'knights', 'who', 'say', 'ni']
>>> knights.index('who')
4
>>> knights.index('herring')
Traceback (innermost last):
File "<pyshell>", line 1, in ?
knights.index('herring')
ValueError: list.index(x): x not in list

æ–¹æ³•insertï¼šç”¨äºå°†ä¸€ä¸ªå¯¹è±¡æ’å…¥åˆ—è¡¨
>>> numbers = [1, 2, 3, 5, 6, 7]
>>> numbers.insert(3, 'four')
>>> numbers
[1, 2, 3, 'four', 5, 6, 7]
ä¸extendä¸€æ ·ï¼Œä¹Ÿå¯ä½¿ç”¨åˆ‡ç‰‡èµ‹å€¼æ¥è·å¾—ä¸insertä¸€æ ·çš„æ•ˆæœã€‚
>>> numbers = [1, 2, 3, 5, 6, 7]
>>> numbers[3:3] = ['four']
>>> numbers
[1, 2, 3, 'four', 5, 6, 7]
è¿™è™½å·§å¦™ï¼Œä½†å¯è¯»æ€§æ ¹æœ¬æ— æ³•ä¸ä½¿ç”¨insertåª²ç¾ã€‚

æ–¹æ³•popï¼šä»åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼ˆæœ«å°¾ä¸ºæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶è¿”å›è¿™ä¸€å…ƒç´ 
popæ˜¯å”¯ä¸€æ—¢ä¿®æ”¹åˆ—è¡¨åˆè¿”å›ä¸€ä¸ªéNoneå€¼çš„åˆ—è¡¨æ–¹æ³•ã€‚
ä½¿ç”¨popå¯å®ç°ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„â€”â€”æ ˆï¼ˆstackï¼Œåè¿›å…ˆå‡ºLIFOï¼‰
>>> x = [1, 2, 3]
>>> x.pop()
3
>>> x
[1, 2]
>>> x.pop(0)
1
>>> x
[2]

æ–¹æ³•removeï¼šç”¨äºåˆ é™¤ç¬¬ä¸€ä¸ªä¸ºæŒ‡å®šå€¼çš„å…ƒç´ ï¼Œä¸è¿”å›ä»»ä½•å€¼
>>> x = ['to', 'be', 'or', 'not', 'to', 'be']
>>> x.remove('be')
>>> x
['to', 'or', 'not', 'to', 'be']
>>> x.remove('bee')
Traceback (innermost last):
File "<pyshell>", line 1, in ?
x.remove('bee')
ValueError: list.remove(x): x not in list

æ–¹æ³•reverseæŒ‰ç›¸åçš„é¡ºåºæ’åˆ—åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œä¸è¿”å›ä»»ä½•å€¼
>>> x = [1, 2, 3]
>>> x.reverse()
>>> x
[3, 2, 1]

å‡½æ•°reversedã€‚è¿™ä¸ªå‡½æ•°ä¸è¿”å›åˆ—è¡¨ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªè¿­ä»£å™¨
>>> x = [1, 2, 3]
>>> list(reversed(x))
[3, 2, 1]

æ–¹æ³•sortç”¨äºå¯¹åˆ—è¡¨å°±åœ°æ’åºï¼Œä¸è¿”å›ä»»ä½•å€¼
æ¥å—ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼škeyå’Œreverse
å‚æ•°keyï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°å
å‚æ•°reverseï¼šæ˜¯å¦è¦æŒ‰ç›¸åçš„é¡ºåºå¯¹åˆ—è¡¨è¿›è¡Œæ’åº
>>> x = [4, 6, 2, 1, 7, 9]
>>> x.sort()
>>> x
[1, 2, 4, 6, 7, 9]
>>> x = ['aardvark', 'abalone', 'acme', 'add', 'aerate']
>>> x.sort(key=len)
>>> x
['add', 'acme', 'aerate', 'abalone', 'aardvark']
>>> x = [4, 6, 2, 1, 7, 9]
>>> x.sort(reverse=True)
>>> x
[9, 7, 6, 4, 2, 1]

å‡½æ•°sortedï¼Œæ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°åˆ—è¡¨
å‡½æ•°sortedä¹Ÿæ¥å—å‚æ•°keyå’Œreverseã€‚
å‚æ•°keyè®¾ç½®ä¸ºä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°
>>> x = [4, 6, 2, 1, 7, 9]
>>> y = sorted(x)
>>> x
[4, 6, 2, 1, 7, 9]
>>> y
[1, 2, 4, 6, 7, 9]
```

stack
```bat
extendï¼šå…¥æ ˆ
popï¼šå‡ºæ ˆ
```

queue
```bat
å¯¹å¤´æ·»åŠ å…ƒç´ ï¼šinsert(0, item)
å‡ºé˜Ÿï¼špop

æˆ–è€…ä½¿ç”¨æ¨¡å—collectionsä¸­çš„deque
```

æ·±å…¥äº†è§£æ’åºï¼šSorting Mini-HOW TOï¼šhttps://wiki.python.org/moin/HowTo/Sorting

## 2.4 å…ƒç»„ï¼šä¸å¯ä¿®æ”¹çš„åºåˆ—

ä¸åˆ—è¡¨ä¸€æ ·ï¼Œå…ƒç»„ä¹Ÿæ˜¯åºåˆ—ï¼Œå”¯ä¸€çš„å·®åˆ«åœ¨äºå…ƒç»„ä¸èƒ½ä¿®æ”¹ã€‚

Python å…ƒç»„ï¼ˆTupleï¼‰æ˜¯**ä¸å¯å˜åºåˆ—**ï¼Œæ–¹æ³•æ¯”åˆ—è¡¨å°‘ï¼Œä½†å¾ˆå®ç”¨ã€‚

### 2.4.1 å…ƒç»„å¸¸ç”¨æ“ä½œ
ğŸ“‹ å…ƒç»„åŸºç¡€æ“ä½œ
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `tuple()` | åˆ›å»ºå…ƒç»„ | `tuple([1, 2])` â†’ (1, 2) |
| `len(t)` | è¿”å›å…ƒç»„é•¿åº¦ | `len((1, 2, 3))` â†’ 3 |
| `t[index]` | ç´¢å¼•è®¿é—® | `t[0]` |
| `t[start:stop]` | åˆ‡ç‰‡ | `t[1:3]` |
| `t[start:stop:step]` | å¸¦æ­¥é•¿åˆ‡ç‰‡ | `t[::2]` |
| `in` | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ | `3 in (1, 2, 3)` â†’ True |
| `+` | æ‹¼æ¥å…ƒç»„ | `(1,2) + (3,4)` â†’ (1,2,3,4) |
| `* n` | é‡å¤næ¬¡ | `(1) * 3` â†’ (1,1,1) |
```python
# ç¤ºä¾‹
t = (1, 2, 3, 4, 5)
len(t)              # 5
t[0]                # 1
t[1:3]              # (2, 3)
t[::2]              # (1, 3, 5)
3 in t              # True
t + (6, 7)          # (1, 2, 3, 4, 5, 6, 7)
```
---
ğŸ” æŸ¥æ‰¾å’Œç»Ÿè®¡
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `index(x)` | è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼• | `t.index(3)` |
| `index(x, start, stop)` | åœ¨æŒ‡å®šèŒƒå›´å†…æŸ¥æ‰¾ç´¢å¼• | `t.index(3, 2, 5)` |
| `count(x)` | ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•° | `t.count(3)` |
| `in` / `not in` | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ | `3 in t` |
```python
# ç¤ºä¾‹
t = (1, 2, 3, 3, 4, 5)
t.index(3)       # 2 - ç¬¬ä¸€ä¸ª3çš„ç´¢å¼•
t.count(3)       # 2 - 3å‡ºç°äº†2æ¬¡
3 in t           # True
```
---
ğŸ“Š å¸¸ç”¨å†…ç½®å‡½æ•°ï¼ˆé€‚ç”¨äºå…ƒç»„ï¼‰
| å‡½æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `min(t)` | æœ€å°å€¼ | `min((1, 2, 3))` â†’ 1 |
| `max(t)` | æœ€å¤§å€¼ | `max((1, 2, 3))` â†’ 3 |
| `sum(t)` | æ±‚å’Œ | `sum((1, 2, 3))` â†’ 6 |
| `sorted(t)` | è¿”å›æ’åºåˆ—è¡¨ | `sorted((3,1,2))` â†’ [1, 2, 3] |
| `reversed(t)` | è¿”å›åå‘è¿­ä»£å™¨ | `list(reversed((1,2,3)))` â†’ [3, 2, 1] |
| `len(t)` | å…ƒç´ ä¸ªæ•° | `len((1,2,3))` â†’ 3 |
| `enumerate(t)` | å¸¦ç´¢å¼•éå† | `list(enumerate(('a','b')))` â†’ [(0,'a'), (1,'b')] |
| `zip(*tuples)` | æ‰“åŒ…å¤šä¸ªå…ƒç»„ | `list(zip((1,2),('a','b')))` â†’ [(1,'a'), (2,'b')] |
```python
# ç¤ºä¾‹
t = (3, 1, 4, 1, 5)
min(t)                # 1
max(t)                # 5
sum(t)                # 14
sorted(t)             # [1, 1, 3, 4, 5]
list(reversed(t))     # [5, 4, 1, 1, 3]
```
---
ğŸ”„ å…ƒç»„ä¸åˆ—è¡¨è½¬æ¢
| æ“ä½œ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `list(t)` | å…ƒç»„è½¬åˆ—è¡¨ | `list((1, 2, 3))` â†’ [1, 2, 3] |
| `tuple(lst)` | åˆ—è¡¨è½¬å…ƒç»„ | `tuple([1, 2, 3])` â†’ (1, 2, 3) |
```python
# ç¤ºä¾‹
t = (1, 2, 3)
lst = list(t)      # [1, 2, 3] - è½¬ä¸ºåˆ—è¡¨è¿›è¡Œä¿®æ”¹
t2 = tuple(lst)    # (1, 2, 3) - è½¬å›å…ƒç»„
```
---
ğŸ“¦ å‘½åå…ƒç»„
å‘½åå…ƒç»„è®©å…ƒç»„æ›´æ˜“è¯»ï¼Œå¯ä»¥é€šè¿‡å±æ€§åè®¿é—®ï¼š
```python
from collections import namedtuple
# åˆ›å»ºå‘½åå…ƒç»„ç±»å‹
Point = namedtuple('Point', ['x', 'y', 'z'])
# åˆ›å»ºå®ä¾‹
p = Point(10, 20, 30)
# è®¿é—®æ–¹å¼
p.x      # 10 - å±æ€§åè®¿é—®
p.y      # 20
p[0]     # 10 - ç´¢å¼•è®¿é—®
len(p)   # 3
# è½¬æ¢ä¸ºå­—å…¸
p._asdict()  # {'x': 10, 'y': 20, 'z': 30}
# åˆ›å»ºæ–°å®ä¾‹ï¼ˆä¸å¯ä¿®æ”¹ï¼Œåªèƒ½åˆ›å»ºæ–°çš„ï¼‰
p2 = p._replace(x=100)  # Point(x=100, y=20, z=30)
```
---
ğŸ¯ å…ƒç»„è§£åŒ…ï¼ˆé‡è¦ç‰¹æ€§ï¼‰
```python
# åŸºç¡€è§£åŒ…
t = (1, 2, 3)
a, b, c = t    # a=1, b=2, c=3
# åµŒå¥—è§£åŒ…
t = (1, (2, 3))
a, (b, c) = t  # a=1, b=2, c=3
# å¿½ç•¥æŸäº›å€¼
t = (1, 2, 3, 4, 5)
a, b, *rest = t  # a=1, b=2, rest=[3, 4, 5]
# äº¤æ¢å˜é‡ï¼ˆç»å…¸ç”¨æ³•ï¼‰
x, y = 10, 20
x, y = y, x     # x=20, y=10
# å‡½æ•°è¿”å›å¤šä¸ªå€¼
def get_point():
    return (10, 20)
x, y = get_point()  # x=10, y=20
```
---
âš ï¸ å…ƒç»„ vs åˆ—è¡¨å¯¹æ¯”
| ç‰¹æ€§ | å…ƒç»„ | åˆ—è¡¨ |
|------|------|------|
| æ˜¯å¦å¯å˜ | âŒ ä¸å¯å˜ | âœ… å¯å˜ |
| æ–¹æ³•æ•°é‡ | å°‘ï¼ˆ2ä¸ªï¼‰ | å¤šï¼ˆ10+ä¸ªï¼‰ |
| æ€§èƒ½ | æ›´å¿« | ç¨æ…¢ |
| ç”¨é€” | å›ºå®šæ•°æ®ã€å­—å…¸é”® | åŠ¨æ€æ•°æ®ã€é¢‘ç¹ä¿®æ”¹ |
| å†…å­˜å ç”¨ | æ›´å° | æ›´å¤§ |
---
ğŸ’¡ æœ€å¸¸ç”¨çš„å…ƒç»„æ“ä½œ
| ä¼˜å…ˆçº§ | æ–¹æ³• | ä½¿ç”¨é¢‘ç‡ |
|--------|------|----------|
| â­â­â­â­â­ | `len()` | è·å–é•¿åº¦ |
| â­â­â­â­â­ | `index()` | æŸ¥æ‰¾å…ƒç´  |
| â­â­â­â­ | `count()` | ç»Ÿè®¡æ¬¡æ•° |
| â­â­â­â­ | `in` | åˆ¤æ–­å­˜åœ¨ |
| â­â­â­â­ | `tuple()` | åˆ›å»ºå…ƒç»„ |
| â­â­â­ | åˆ‡ç‰‡ | `t[1:3]` |
| â­â­â­ | `+` | æ‹¼æ¥ |
| â­â­â­ | è§£åŒ… | `a, b, c = t` |
| â­â­ | `zip()` | å¤šå…ƒç»„æ‰“åŒ… |
| â­â­ | `sorted()` | æ’åº |
---
ğŸ“š å®˜æ–¹æ–‡æ¡£
å®Œæ•´å…ƒç»„æ–‡æ¡£ï¼šhttps://docs.python.org/zh-cn/3/tutorial/datastructures.html#tuples-and-sequences
éœ€è¦æˆ‘è¯¦ç»†è®²è§£æŸä¸ªç”¨æ³•å—ï¼Ÿæ¯”å¦‚å‘½åå…ƒç»„çš„å®é™…åº”ç”¨åœºæ™¯ï¼Ÿ


**ä¸`list()`ä¸€æ ·ï¼Œ`tuple()`å®é™…ä¸Šä¹Ÿä¸æ˜¯å‡½æ•°ï¼Œè€Œæ˜¯ç±»å‹**

```bat
åˆ›å»ºå…ƒç»„
>>> 1, 2, 3
(1, 2, 3)
å…ƒç»„è¿˜å¯ç”¨åœ†æ‹¬å·æ‹¬èµ·ï¼ˆè¿™ä¹Ÿæ˜¯é€šå¸¸é‡‡ç”¨çš„åšæ³•ï¼‰
>>> (1, 2, 3)
(1, 2, 3)
ç©ºå…ƒç»„
>>> ()
()
åªåŒ…å«ä¸€ä¸ªå€¼çš„å…ƒç»„
>>> 42,
(42,)
>>> (42,)
(42,)

å‡½æ•°tupleå’Œlistå¾ˆåƒï¼šå®ƒå°†ä¸€ä¸ªåºåˆ—ä½œä¸ºå‚æ•°ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå…ƒç»„
>>> tuple([1, 2, 3])
(1, 2, 3)
>>> tuple('abc')
('a', 'b', 'c')
å¦‚æœå‚æ•°å·²ç»æ˜¯å…ƒç»„ï¼Œå°±åŸå°ä¸åŠ¨åœ°è¿”å›å®ƒã€‚
>>> tuple((1, 2, 3))
(1, 2, 3)

å…ƒç»„çš„åˆ‡ç‰‡ä¹Ÿæ˜¯å…ƒç»„ï¼Œå°±åƒåˆ—è¡¨çš„åˆ‡ç‰‡ä¹Ÿæ˜¯åˆ—è¡¨ä¸€æ ·
>>> x = 1, 2, 3
>>> x[1]
2
>>> x[0:2]
(1, 2)
```

# 3ã€å­—ç¬¦ä¸²

å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤æ‰€æœ‰çš„å…ƒç´ èµ‹å€¼å’Œåˆ‡ç‰‡èµ‹å€¼éƒ½æ˜¯éæ³•çš„ã€‚
```bat
>>> website = 'http://www.python.org'
>>> website[-3:] = 'com'
Traceback (most recent call last):
File "<pyshell#19>", line 1, in ?
website[-3:] = 'com'
TypeError: object doesn't support slice assignment
```

**æ ¼å¼åŒ–**

**%s ç§°ä¸ºè½¬æ¢è¯´æ˜ç¬¦**
ä¾‹å¦‚ï¼Œ`.3f%`å°†å€¼çš„æ ¼å¼è®¾ç½®ä¸ºåŒ…å«3ä½å°æ•°çš„æµ®ç‚¹æ•°

```bat
>>> format = "Hello, %s. %s enough for ya?"
>>> values = ('world', 'Hot')
>>> format % values
'Hello, world. Hot enough for ya?'
```

**æ¨¡æ¿å­—ç¬¦ä¸²**
```bat
>>> from string import Template
>>> tmpl = Template("Hello, $who! $what enough for ya?")
>>> tmpl.substitute(who="Mars", what="Dusty")
'Hello, Mars! Dusty enough for ya?'

>>> "{}, {} and {}".format("first", "second", "third")
'first, second and third'
>>> "{0}, {1} and {2}".format("first", "second", "third")
'first, second and third'

ç´¢å¼•æ— éœ€åƒä¸Šé¢è¿™æ ·æŒ‰é¡ºåºæ’åˆ—
>>> "{3} {0} {2} {1} {3} {0}".format("be", "not", "or", "to")
'to be or not to be'

å…³é”®å­—å‚æ•°çš„æ’åˆ—é¡ºåºæ— å…³ç´§è¦
>>> from math import pi
>>> "{name} is approximately {value:.2f}.".format(value=pi, name="Ï€")
'Ï€ is approximately 3.14.'
>>> "{name} is approximately {value}.".format(value=pi, name="Ï€")
'Ï€ is approximately 3.141592653589793.'
```

**få­—ç¬¦ä¸²**
å¦‚æœå˜é‡ä¸æ›¿æ¢å­—æ®µåŒåï¼Œè¿™æ˜¯ä¸€ç§ç®€å†™ã€‚
```bat
>>> from math import e
>>> f"Euler's constant is roughly {e}."
"Euler's constant is roughly 2.718281828459045."
ç­‰ä»·
>>> "Euler's constant is roughly {e}.".format(e=e)
"Euler's constant is roughly 2.718281828459045."
```

**æ··åˆä½¿ç”¨**

ä¸èƒ½åŒæ—¶ä½¿ç”¨æ‰‹å·¥ç¼–å·å’Œè‡ªåŠ¨ç¼–å·

```bat
>>> "{foo} {} {bar} {}".format(1, 2, bar=4, foo=3)
'3 1 4 2'
>>> "{foo} {1} {bar} {0}".format(1, 2, bar=4, foo=3)
'3 2 4 1'
```

```bat
>>> fullname = ["Alfred", "Smoketoomuch"]
>>> "Mr {name[1]}".format(name=fullname)
'Mr Smoketoomuch'
>>> import math
>>> tmpl = "The {mod.__name__} module defines the value {mod.pi} for Ï€"
>>> tmpl.format(mod=math)
'The math module defines the value 3.141592653589793 for Ï€'
```

è®¾ç½®è½¬æ¢æ ¼å¼
```bat
ä¸‰ä¸ªæ ‡å¿—ï¼ˆsã€rå’Œaï¼‰æŒ‡å®šåˆ†åˆ«ä½¿ç”¨strã€reprå’Œasciiè¿›è¡Œè½¬æ¢
>>> print("{pi!s} {pi!r} {pi!a}".format(pi="Ï€"))
Ï€ 'Ï€' '\u03c0'

>>> "The number is {num}".format(num=42)
'The number is 42'
>>> "The number is {num:f}".format(num=42)
'The number is 42.000000'
ä½ ä¹Ÿå¯ä»¥å°†å…¶ä½œä¸ºäºŒè¿›åˆ¶æ•°è¿›è¡Œå¤„ç†ã€‚
>>> "The number is {num:b}".format(num=42)
'The number is 101010'
```

**å­—ç¬¦ä¸²æ ¼å¼è®¾ç½®ä¸­çš„ç±»å‹è¯´æ˜ç¬¦**
```text
b
å°†æ•´æ•°è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ•°
c
å°†æ•´æ•°è§£è¯»ä¸ºUnicodeç ç‚¹
d
å°†æ•´æ•°è§†ä¸ºåè¿›åˆ¶æ•°è¿›è¡Œå¤„ç†ï¼Œè¿™æ˜¯æ•´æ•°é»˜è®¤ä½¿ç”¨çš„è¯´æ˜ç¬¦
e
ä½¿ç”¨ç§‘å­¦è¡¨ç¤ºæ³•æ¥è¡¨ç¤ºå°æ•°ï¼ˆç”¨eæ¥è¡¨ç¤ºæŒ‡æ•°ï¼‰
E
ä¸eç›¸åŒï¼Œä½†ä½¿ç”¨Eæ¥è¡¨ç¤ºæŒ‡æ•°
f
å°†å°æ•°è¡¨ç¤ºä¸ºå®šç‚¹æ•°
F
ä¸fç›¸åŒï¼Œä½†å¯¹äºç‰¹æ®Šå€¼ï¼ˆnanå’Œinfï¼‰ï¼Œä½¿ç”¨å¤§å†™è¡¨ç¤º
g
è‡ªåŠ¨åœ¨å®šç‚¹è¡¨ç¤ºæ³•å’Œç§‘å­¦è¡¨ç¤ºæ³•ä¹‹é—´åšå‡ºé€‰æ‹©ã€‚è¿™æ˜¯é»˜è®¤ç”¨äºå°æ•°çš„è¯´æ˜ç¬¦ï¼Œä½†åœ¨é»˜è®¤æƒ…å†µä¸‹è‡³å°‘æœ‰1ä½å°æ•°
G
ä¸gç›¸åŒï¼Œä½†ä½¿ç”¨å¤§å†™æ¥è¡¨ç¤ºæŒ‡æ•°å’Œç‰¹æ®Šå€¼
n
ä¸gç›¸åŒï¼Œä½†æ’å…¥éšåŒºåŸŸè€Œå¼‚çš„æ•°å­—åˆ†éš”ç¬¦
o
å°†æ•´æ•°è¡¨ç¤ºä¸ºå…«è¿›åˆ¶æ•°
s
ä¿æŒå­—ç¬¦ä¸²çš„æ ¼å¼ä¸å˜ï¼Œè¿™æ˜¯é»˜è®¤ç”¨äºå­—ç¬¦ä¸²çš„è¯´æ˜ç¬¦
x
å°†æ•´æ•°è¡¨ç¤ºä¸ºåå…­è¿›åˆ¶æ•°å¹¶ä½¿ç”¨å°å†™å­—æ¯
X
ä¸xç›¸åŒï¼Œä½†ä½¿ç”¨å¤§å†™å­—æ¯
%
å°†æ•°è¡¨ç¤ºä¸ºç™¾åˆ†æ¯”å€¼ï¼ˆä¹˜ä»¥100ï¼ŒæŒ‰è¯´æ˜ç¬¦fè®¾ç½®æ ¼å¼ï¼Œå†åœ¨åé¢åŠ ä¸Š%ï¼‰
```

**å®½åº¦ã€ç²¾åº¦å’Œåƒä½åˆ†éš”ç¬¦**

è®¾ç½®æµ®ç‚¹æ•°æ ¼å¼æ—¶ï¼Œé»˜è®¤åœ¨å°æ•°ç‚¹åé¢æ˜¾ç¤º6ä½å°æ•°ã€‚
```bat
æ•°å’Œå­—ç¬¦ä¸²çš„å¯¹é½æ–¹å¼ä¸åŒ
>>> "{num:10}".format(num=3)
' 3'
>>> "{name:10}".format(name="Bob")
'Bob '

ç²¾åº¦ä¹Ÿæ˜¯ä½¿ç”¨æ•´æ•°æŒ‡å®šçš„
>>> "Pi day is {pi:.2f}".format(pi=pi)
'Pi day is 3.14'
>>> "{pi:10.2f}".format(pi=pi)
' 3.14'
```

**ç¬¦å·ã€å¯¹é½å’Œç”¨ 0 å¡«å……**
```bat
>>> '{:010.2f}'.format(pi)
'0000003.14'

æŒ‡å®šå·¦å¯¹é½ã€å³å¯¹é½å’Œå±…ä¸­ï¼Œå¯åˆ†åˆ«ä½¿ç”¨<ã€>å’Œ^
>>> print('{0:<10.2f}\n{0:^10.2f}\n{0:>10.2f}'.format(pi))
3.14
    3.14
        3.14
```

### 3.1 å­—ç¬¦ä¸²æ–¹æ³•

Python å­—ç¬¦ä¸²æ–¹æ³•å¾ˆå¤šï¼Œç»™ä½ æ•´ç†ä¸€ä»½**å¸¸ç”¨æ–¹æ³•æ¸…å•**ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»ï¼š
ğŸ“‹ åŸºç¡€æŸ¥è¯¢
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `len(s)` | è¿”å›å­—ç¬¦ä¸²é•¿åº¦ | `len("hello")` â†’ 5 |
| `s.find(sub)` | è¿”å›å­ä¸²é¦–æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å› -1 | `"hello".find("l")` â†’ 2 |
| `s.rfind(sub)` | ä»å³è¾¹æ‰¾å­ä¸²ç´¢å¼• | `"hello".rfind("l")` â†’ 3 |
| `s.index(sub)` | è¿”å›å­ä¸²ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°æŠ¥é”™ | `"hello".index("l")` â†’ 2 |
| `s.count(sub)` | ç»Ÿè®¡å­ä¸²å‡ºç°æ¬¡æ•° | `"hello".count("l")` â†’ 2 |
| `s.startswith(prefix)` | æ˜¯å¦ä»¥æŸå‰ç¼€å¼€å¤´ | `"hello".startswith("he")` â†’ True |
| `s.endswith(suffix)` | æ˜¯å¦ä»¥æŸåç¼€ç»“å°¾ | `"hello".endswith("lo")` â†’ True |
| `in` / `not in` | åˆ¤æ–­å­ä¸²æ˜¯å¦å­˜åœ¨ | `"ll" in "hello"` â†’ True |
```python
s = "hello world"
len(s)                # 11
s.find("world")       # 6
s.rfind("l")          # 9
s.startswith("hello") # True
s.endswith("world")   # True
"lo" in s             # True
```
---
ğŸ”¤ å¤§å°å†™è½¬æ¢
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.upper()` | å…¨éƒ¨è½¬å¤§å†™ | `"hello".upper()` â†’ "HELLO" |
| `s.lower()` | å…¨éƒ¨è½¬å°å†™ | `"HELLO".lower()` â†’ "hello" |
| `s.capitalize()` | é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä½™å°å†™ | `"hello WORLD".capitalize()` â†’ "Hello world" |
| `s.title()` | æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ | `"hello world".title()` â†’ "Hello World" |
| `s.swapcase()` | å¤§å°å†™äº’æ¢ | `"Hello".swapcase()` â†’ "hELLO" |
| `s.isupper()` | æ˜¯å¦å…¨å¤§å†™ | `"ABC".isupper()` â†’ True |
| `s.islower()` | æ˜¯å¦å…¨å°å†™ | `"abc".islower()` â†’ True |
| `s.istitle()` | æ˜¯å¦ç¬¦åˆæ ‡é¢˜æ ¼å¼ | `"Hello".istitle()` â†’ True |
```python
s = "hello WORLD"
s.upper()           # "HELLO WORLD"
s.lower()           # "hello world"
s.capitalize()      # "Hello world"
s.title()           # "Hello World"
s.swapcase()        # "HELLO world"
```
---
ğŸ§¹ å»é™¤ç©ºç™½å­—ç¬¦
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.strip()` | å»é™¤é¦–å°¾ç©ºç™½ï¼ˆç©ºæ ¼ã€\tã€\nï¼‰ | `"  hello  ".strip()` â†’ "hello" |
| `s.lstrip()` | å»é™¤å·¦è¾¹ç©ºç™½ | `"  hello  ".lstrip()` â†’ "hello  " |
| `s.rstrip()` | å»é™¤å³è¾¹ç©ºç™½ | `"  hello  ".rstrip()` â†’ "  hello" |
| `s.strip(chars)` | å»é™¤æŒ‡å®šå­—ç¬¦ | `"xxhelloxx".strip("x")` â†’ "hello" |
```python
s = "  hello world  \n"
s.strip()      # "hello world"
s.lstrip()     # "hello world  \n"
s.rstrip()     # "  hello world"
"xxhelloxx".strip("x")  # "hello"
```
---
âœ‚ï¸ æ‹†åˆ†å’Œè¿æ¥
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.split(sep)` | æŒ‰åˆ†éš”ç¬¦æ‹†åˆ†æˆåˆ—è¡¨ | `"a,b,c".split(",")` â†’ ['a', 'b', 'c'] |
| `s.split()` | æŒ‰ç©ºç™½æ‹†åˆ†ï¼ˆè‡ªåŠ¨å¤„ç†å¤šä¸ªç©ºæ ¼ï¼‰ | `"a b  c".split()` â†’ ['a', 'b', 'c'] |
| `s.splitlines()` | æŒ‰è¡Œæ‹†åˆ† | `"a\nb\nc".splitlines()` â†’ ['a', 'b', 'c'] |
| `sep.join(iterable)` | ç”¨åˆ†éš”ç¬¦è¿æ¥åˆ—è¡¨ | `",".join(["a", "b"])` â†’ "a,b" |
| `s.partition(sep)` | ä¸‰å…ƒåˆ†å‰²ï¼ˆå‰ã€sepã€åï¼‰ | `"a-b-c".partition("-")` â†’ ('a', '-', 'b-c') |
| `s.rpartition(sep)` | ä»å³è¾¹ä¸‰å…ƒåˆ†å‰² | `"a-b-c".rpartition("-")` â†’ ('a-b', '-', 'c') |
```python
s = "a,b,c"
s.split(",")            # ['a', 'b', 'c']
"  a   b  c  ".split()  # ['a', 'b', 'c']
"a\nb\nc".splitlines()  # ['a', 'b', 'c']
",".join(["a", "b"])    # "a,b"
"a-b-c".partition("-")  # ('a', '-', 'b-c')
```
---
ğŸ”„ æ›¿æ¢å’Œæ ¼å¼åŒ–
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.replace(old, new)` | æ›¿æ¢å­ä¸² | `"hello".replace("l", "x")` â†’ "hexxo" |
| `s.replace(old, new, count)` | æ›¿æ¢æŒ‡å®šæ¬¡æ•° | `"hello".replace("l", "x", 1)` â†’ "hexlo" |
| `s.expandtabs(n)` | åˆ¶è¡¨ç¬¦è½¬ç©ºæ ¼ | `"hello\tworld".expandtabs(4)` |
| `s.format(*args, **kwargs)` | æ ¼å¼åŒ–å­—ç¬¦ä¸² | `"{} {}".format("a", "b")` â†’ "a b" |
| `f"{var}"` | f-string æ ¼å¼åŒ– | `f"{x}"` |
```python
s = "hello world"
s.replace("l", "x")              # "hexxo worxd"
s.replace("l", "x", 1)          # "hexlo world"
"{} {}".format("hello", "world") # "hello world"
name = "Tom"
f"Hello {name}"                  # "Hello Tom"
```
---
âœ… åˆ¤æ–­æ–¹æ³•
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.isalpha()` | æ˜¯å¦åªåŒ…å«å­—æ¯ | `"abc".isalpha()` â†’ True |
| `s.isdigit()` | æ˜¯å¦åªåŒ…å«æ•°å­— | `"123".isdigit()` â†’ True |
| `s.isnumeric()` | æ˜¯å¦åªåŒ…å«æ•°å­—å­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸­æ–‡æ•°å­—ï¼‰ | `"ä¸€äºŒä¸‰".isnumeric()` â†’ True |
| `s.isalnum()` | æ˜¯å¦åªåŒ…å«å­—æ¯å’Œæ•°å­— | `"abc123".isalnum()` â†’ True |
| `s.isspace()` | æ˜¯å¦åªåŒ…å«ç©ºç™½å­—ç¬¦ | `"   ".isspace()` â†’ True |
| `s.isdecimal()` | æ˜¯å¦åªåŒ…å«åè¿›åˆ¶æ•°å­— | `"123".isdecimal()` â†’ True |
| `s.isidentifier()` | æ˜¯å¦æ˜¯åˆæ³•æ ‡è¯†ç¬¦ï¼ˆå˜é‡åï¼‰ | `"my_var".isidentifier()` â†’ True |
```python
"abc".isalpha()      # True
"123".isdigit()      # True
"abc123".isalnum()   # True
"   ".isspace()      # True
"my_var".isidentifier()  # True
```
---
ğŸ” æŸ¥æ‰¾å’Œç»Ÿè®¡
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.find(sub)` | æ‰¾å­ä¸²ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å› -1 | `"hello".find("l")` â†’ 2 |
| `s.index(sub)` | æ‰¾å­ä¸²ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°æŠ¥é”™ | `"hello".index("l")` â†’ 2 |
| `s.rfind(sub)` | ä»å³è¾¹æ‰¾å­ä¸²ç´¢å¼• | `"hello".rfind("l")` â†’ 3 |
| `s.count(sub)` | ç»Ÿè®¡å­ä¸²å‡ºç°æ¬¡æ•° | `"hello".count("l")` â†’ 2 |
```python
s = "hello world"
s.find("world")       # 6
s.rfind("l")          # 9
s.count("l")          # 3
```
---
ğŸ“Š å¯¹é½å’Œå¡«å……
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.center(width)` | å±…ä¸­å¯¹é½ï¼Œç”¨ç©ºæ ¼å¡«å…… | `"hi".center(10)` â†’ "    hi    " |
| `s.ljust(width)` | å·¦å¯¹é½ï¼Œç”¨ç©ºæ ¼å¡«å…… | `"hi".ljust(10)` â†’ "hi        " |
| `s.rjust(width)` | å³å¯¹é½ï¼Œç”¨ç©ºæ ¼å¡«å…… | `"hi".rjust(10)` â†’ "        hi" |
| `s.zfill(width)` | å³å¯¹é½ï¼Œå·¦è¾¹ç”¨ 0 å¡«å…… | `"42".zfill(5)` â†’ "00042" |
| `s.center(width, fillchar)` | å±…ä¸­å¯¹é½ï¼ŒæŒ‡å®šå¡«å……å­—ç¬¦ | `"hi".center(10, "*")` â†’ "****hi****" |
```python
"hi".center(10)          # "    hi    "
"hi".ljust(10)           # "hi        "
"hi".rjust(10)           # "        hi"
"42".zfill(5)            # "00042"
"hi".center(10, "*")     # "****hi****"
```
---
ğŸ”§ ç¼–ç å’Œè§£ç 
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `s.encode(encoding)` | ç¼–ç ä¸ºå­—èŠ‚ | `"hello".encode("utf-8")` |
| `bytes.decode(encoding)` | å­—èŠ‚è§£ç ä¸ºå­—ç¬¦ä¸² | `b"hello".decode("utf-8")` |
```python
"hello".encode("utf-8")   # b'hello'
b"hello".decode("utf-8")  # 'hello'
```
---
ğŸ¯ å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆé‡è¦ï¼‰
```python
s = "hello world"
s[0]            # 'h' - ç¬¬ä¸€ä¸ªå­—ç¬¦
s[-1]           # 'd' - æœ€åä¸€ä¸ªå­—ç¬¦
s[0:5]          # 'hello' - å‰5ä¸ªå­—ç¬¦
s[6:]           # 'world' - ä»ç¬¬6ä¸ªåˆ°æœ«å°¾
s[:5]           # 'hello' - å‰5ä¸ªå­—ç¬¦
s[::2]          # 'hlowrd' - æ¯éš”ä¸€ä¸ªå­—ç¬¦
s[::-1]         # 'dlrow olleh' - åè½¬
```
---
ğŸ’¡ æœ€å¸¸ç”¨çš„10ä¸ªå­—ç¬¦ä¸²æ–¹æ³•
| ä¼˜å…ˆçº§ | æ–¹æ³• | ä½¿ç”¨é¢‘ç‡ |
|--------|------|----------|
| â­â­â­â­â­ | `len()` | è·å–é•¿åº¦ |
| â­â­â­â­â­ | `split()` | æ‹†åˆ†å­—ç¬¦ä¸² |
| â­â­â­â­â­ | `strip()` | å»é™¤ç©ºç™½ |
| â­â­â­â­â­ | `join()` | è¿æ¥åˆ—è¡¨ |
| â­â­â­â­ | `replace()` | æ›¿æ¢ |
| â­â­â­â­ | `upper()` / `lower()` | å¤§å°å†™è½¬æ¢ |
| â­â­â­â­ | `find()` | æŸ¥æ‰¾ |
| â­â­â­â­ | `startswith()` / `endswith()` | åˆ¤æ–­å‰åç¼€ |
| â­â­â­ | `splitlines()` | æŒ‰è¡Œæ‹†åˆ† |
| â­â­â­ | `format()` / f-string | æ ¼å¼åŒ– |
---
ğŸ“š å®˜æ–¹æ–‡æ¡£
å®Œæ•´å­—ç¬¦ä¸²æ–¹æ³•ï¼šhttps://docs.python.org/zh-cn/3/library/stdtypes.html#string-methods


```bat
>>> name = 'Gumby'
>>> names = ['gumby', 'smith', 'jones']
>>> if name.lower() in names: print('Found it!')
```

# 4ã€å­—å…¸

Python å­—å…¸ï¼ˆDictï¼‰æ˜¯æœ€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚

## 4.1 å¸¸ç”¨æ–¹æ³•
ğŸ“‹ å­—å…¸åŸºç¡€æ“ä½œ
| æ“ä½œ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `d = {}` | åˆ›å»ºç©ºå­—å…¸ | `d = {}` |
| `d = dict()` | åˆ›å»ºç©ºå­—å…¸ | `d = dict()` |
| `d = {key: value}` | åˆ›å»ºå­—å…¸ | `d = {"name": "Tom", "age": 18}` |
| `d[key]` | è®¿é—®å€¼ï¼ˆä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰ | `d["name"]` â†’ "Tom" |
| `d.get(key)` | è®¿é—®å€¼ï¼ˆä¸å­˜åœ¨è¿”å›Noneï¼‰ | `d.get("name")` â†’ "Tom" |
| `d.get(key, default)` | è®¿é—®å€¼ï¼ˆä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼ï¼‰ | `d.get("height", 170)` â†’ 170 |
| `key in d` | åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ | `"name" in d` â†’ True |
| `len(d)` | å­—å…¸é•¿åº¦ | `len(d)` â†’ 2 |
```python
d = {"name": "Tom", "age": 18}
d["name"]              # "Tom"
d.get("name")          # "Tom"
d.get("height", 170)   # 170 - é”®ä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼
"name" in d            # True
len(d)                 # 2
```
---
â• æ·»åŠ å’Œä¿®æ”¹
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `d[key] = value` | æ·»åŠ æˆ–ä¿®æ”¹é”®å€¼å¯¹ | `d["height"] = 175` |
| `d.setdefault(key, default)` | é”®ä¸å­˜åœ¨æ—¶è®¾ç½®å¹¶è¿”å›é»˜è®¤å€¼ | `d.setdefault("city", "Beijing")` |
| `d.update(other)` | åˆå¹¶å¦ä¸€ä¸ªå­—å…¸ | `d.update({"city": "Shanghai"})` |
```python
d = {"name": "Tom", "age": 18}
# æ·»åŠ æ–°é”®
d["height"] = 175           # {"name": "Tom", "age": 18, "height": 175}
# ä¿®æ”¹å·²æœ‰é”®
d["age"] = 20               # {"name": "Tom", "age": 20, "height": 175}
# setdefaultï¼šé”®ä¸å­˜åœ¨æ‰è®¾ç½®
d.setdefault("city", "Beijing")  # è¿”å› "Beijing"ï¼Œæ·»åŠ æ–°é”®
d.setdefault("name", "Jerry")    # è¿”å› "Tom"ï¼Œä¸ä¿®æ”¹ï¼ˆé”®å·²å­˜åœ¨ï¼‰
# updateï¼šåˆå¹¶å­—å…¸
d.update({"country": "China", "city": "Shanghai"})  # city ä¼šè¢«æ›´æ–°
```
---
â– åˆ é™¤
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `del d[key]` | åˆ é™¤æŒ‡å®šé”®ï¼ˆä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰ | `del d["age"]` |
| `d.pop(key)` | åˆ é™¤å¹¶è¿”å›å€¼ï¼ˆä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰ | `d.pop("age")` |
| `d.pop(key, default)` | åˆ é™¤å¹¶è¿”å›å€¼ï¼ˆä¸å­˜åœ¨è¿”å›é»˜è®¤å€¼ï¼‰ | `d.pop("age", 0)` |
| `d.popitem()` | åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªé”®å€¼å¯¹ | `d.popitem()` |
| `d.clear()` | æ¸…ç©ºå­—å…¸ | `d.clear()` |
```python
d = {"name": "Tom", "age": 18, "city": "Beijing"}
# del åˆ é™¤
del d["age"]                  # {"name": "Tom", "city": "Beijing"}
# pop åˆ é™¤å¹¶è¿”å›
age = d.pop("age", 0)         # è¿”å›è¢«åˆ é™¤çš„å€¼ï¼Œå¦‚æœé”®ä¸å­˜åœ¨è¿”å› 0
# popitem åˆ é™¤æœ€åä¸€ä¸ªï¼ˆPython 3.7+ ä¿æŒæ’å…¥é¡ºåºï¼‰
last = d.popitem()            # è¿”å› ("city", "Beijing")
# clear æ¸…ç©º
d.clear()                     # {}
```
---
ğŸ” è§†å›¾å’Œéå†
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `d.keys()` | è¿”å›æ‰€æœ‰é”®çš„è§†å›¾ | `d.keys()` |
| `d.values()` | è¿”å›æ‰€æœ‰å€¼çš„è§†å›¾ | `d.values()` |
| `d.items()` | è¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„è§†å›¾ | `d.items()` |
```python
d = {"name": "Tom", "age": 18, "city": "Beijing"}
# keys()
d.keys()           # dict_keys(['name', 'age', 'city'])
# values()
d.values()         # dict_values(['Tom', 18, 'Beijing'])
# items()
d.items()          # dict_items([('name', 'Tom'), ('age', 18), ('city', 'Beijing')])
# è½¬ä¸ºåˆ—è¡¨
list(d.keys())     # ['name', 'age', 'city']
```
éå†å­—å…¸
```python
d = {"name": "Tom", "age": 18, "city": "Beijing"}
# éå†é”®
for key in d:
    print(key)     # name, age, city
# éå†é”®ï¼ˆæ¨èï¼‰
for key in d.keys():
    print(key)     # name, age, city
# éå†å€¼
for value in d.values():
    print(value)   # Tom, 18, Beijing
# éå†é”®å€¼å¯¹ï¼ˆæœ€å¸¸ç”¨ï¼‰
for key, value in d.items():
    print(f"{key}: {value}")
    # name: Tom
    # age: 18
    # city: Beijing
```
---
ğŸ“Š å…¶ä»–å¸¸ç”¨æ–¹æ³•
| æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `d.copy()` | åˆ›å»ºå­—å…¸çš„æµ…æ‹·è´ | `new_d = d.copy()` |
| `d1 == d2` | æ¯”è¾ƒä¸¤ä¸ªå­—å…¸æ˜¯å¦ç›¸ç­‰ | `d1 == d2` â†’ True |
| `dict.fromkeys(keys, value)` | ç”¨é”®åºåˆ—åˆ›å»ºå­—å…¸ | `dict.fromkeys(['a','b'], 0)` â†’ {'a': 0, 'b': 0} |
| `len(d)` | å­—å…¸é•¿åº¦ | `len(d)` |
| `hash(key)` | åˆ¤æ–­æ˜¯å¦å¯ä½œä¸ºå­—å…¸é”® | `hash("key")` |
```python
# copy
d = {"name": "Tom", "age": 18}
new_d = d.copy()          # {"name": "Tom", "age": 18}
# fromkeysï¼šåˆ›å»ºæ‰€æœ‰é”®éƒ½æ˜¯ç›¸åŒå€¼çš„å­—å…¸
dict.fromkeys(["a", "b", "c"], 0)  # {'a': 0, 'b': 0, 'c': 0}
dict.fromkeys(["x", "y"])         # {'x': None, 'y': None}
```
---
ğŸ¯ å­—å…¸æ¨å¯¼å¼ï¼ˆé‡è¦ï¼‰
```python
# åŸºç¡€è¯­æ³•
{key_expr: value_expr for item in iterable if condition}
# ç¤ºä¾‹
numbers = [1, 2, 3, 4, 5]
# åˆ›å»ºå¹³æ–¹å­—å…¸
squares = {x: x**2 for x in numbers}
# {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}
# è¿‡æ»¤å¶æ•°
evens = {x: x**2 for x in numbers if x % 2 == 0}
# {2: 4, 4: 16}
# äº¤æ¢é”®å€¼
d = {"a": 1, "b": 2}
swapped = {v: k for k, v in d.items()}
# {1: 'a', 2: 'b'}
# å­—å…¸åˆå¹¶ï¼ˆPython 3.9+ï¼‰
d1 = {"a": 1, "b": 2}
d2 = {"c": 3, "d": 4}
merged = {**d1, **d2}
# {'a': 1, 'b': 2, 'c': 3, 'd': 4}
```
---
ğŸ”§ å­—å…¸æ’åº
```python
d = {"c": 3, "a": 1, "b": 2}
# æŒ‰é”®æ’åº
sorted_d = dict(sorted(d.items()))
# {'a': 1, 'b': 2, 'c': 3}
# æŒ‰å€¼æ’åº
sorted_by_value = dict(sorted(d.items(), key=lambda x: x[1]))
# {'a': 1, 'b': 2, 'c': 3}
# æŒ‰å€¼é™åº
sorted_desc = dict(sorted(d.items(), key=lambda x: x[1], reverse=True))
# {'c': 3, 'b': 2, 'a': 1}
```
---
ğŸ’¡ æœ€å¸¸ç”¨çš„10ä¸ªå­—å…¸æ–¹æ³•
| ä¼˜å…ˆçº§ | æ–¹æ³• | ä½¿ç”¨é¢‘ç‡ |
|--------|------|----------|
| â­â­â­â­â­ | `d[key]` / `d.get()` | è®¿é—®å€¼ |
| â­â­â­â­â­ | `d[key] = value` | æ·»åŠ /ä¿®æ”¹ |
| â­â­â­â­â­ | `d.keys()` / `d.values()` / `d.items()` | éå† |
| â­â­â­â­â­ | `d.update()` | åˆå¹¶å­—å…¸ |
| â­â­â­â­â­ | `key in d` | åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ |
| â­â­â­â­ | `len(d)` | è·å–é•¿åº¦ |
| â­â­â­â­ | `del d[key]` / `d.pop()` | åˆ é™¤ |
| â­â­â­ | `d.setdefault()` | å®‰å…¨æ·»åŠ  |
| â­â­â­ | `d.copy()` | æ‹·è´ |
| â­â­ | `dict.fromkeys()` | æ‰¹é‡åˆ›å»º |
---
ğŸ“š å®˜æ–¹æ–‡æ¡£
å®Œæ•´å­—å…¸æ–‡æ¡£ï¼šhttps://docs.python.org/zh-cn/3/library/stdtypes.html#dict


**æ˜ å°„ï¼ˆmappingï¼‰**

é”®çš„ç±»å‹ï¼š
> å­—å…¸ä¸­çš„é”®å¯ä»¥æ˜¯æ•´æ•°ï¼Œä½†å¹¶éå¿…é¡»æ˜¯æ•´æ•°ã€‚å­—å…¸ä¸­çš„é”®å¯ä»¥æ˜¯ä»»ä½•ä¸å¯å˜çš„ç±»å‹ï¼Œå¦‚æµ®ç‚¹æ•°ï¼ˆå®æ•°ï¼‰ã€å­—ç¬¦ä¸²æˆ–å…ƒç»„ã€‚

ä¸listã€tupleå’Œsträ¸€æ ·ï¼Œdictå…¶å®æ ¹æœ¬å°±ä¸æ˜¯å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ã€‚

**åˆ›å»ºå­—å…¸**
```bat
phonebook = {'Alice': '2341', 'Beth': '9102', 'Cecil': '3258'}

>>> items = [('name', 'Gumby'), ('age', 42)]
>>> d = dict(items)
>>> d
{'age': 42, 'name': 'Gumby'}
>>> d['name']
'Gumby'

>>> d = dict(name='Gumby', age=42)
>>> d
{'age': 42, 'name': 'Gumby'}
```

**æ–¹æ³•copyè¿”å›ä¸€ä¸ªæ–°å­—å…¸ï¼Œæµ…å¤åˆ¶**
```bat
>>> x = {'username': 'admin', 'machines': ['foo', 'bar', 'baz']}
>>> y = x.copy()
>>> y['username'] = 'mlh'
>>> y['machines'].remove('bar')
>>> y
{'username': 'mlh', 'machines': ['foo', 'baz']}
>>> x
{'username': 'admin', 'machines': ['foo', 'baz']}
```

**æ·±å¤åˆ¶**
```bat
>>> from copy import deepcopy
>>> d = {}
>>> d['names'] = ['Alfred', 'Bertrand']
>>> c = d.copy()
>>> dc = deepcopy(d)
>>> d['names'].append('Clive')
>>> c
{'names': ['Alfred', 'Bertrand', 'Clive']}
>>> dc
{'names': ['Alfred', 'Bertrand']}
```

**itemåœ¨åˆ—è¡¨ä¸­çš„æ’åˆ—é¡ºåºä¸ç¡®å®š**
```bat
>>> d = {'title': 'Python Web Site', 'url': 'http://www.python.org', 'spam': 0}
>>> d.items()
dict_items([('url', 'http://www.python.org'), ('spam', 0), ('title', 'Python Web Site')])
```

# 5ã€æ¡ä»¶ã€å¾ªç¯åŠå…¶ä»–è¯­å¥

**æ‰“å°è¯­å¥**
```bat
>>> print('Age:', 42)
Age: 42

>>> name = 'Gumby'
>>> salutation = 'Mr.'
>>> greeting = 'Hello,'
>>> print(greeting, salutation, name)
Hello, Mr. Gumby

>>> print("I", "wish", "to", "register", "a", "complaint", sep="_")
I_wish_to_register_a_complaint

>>> print('Hello,', end='')
>>> print('world!')
Hello, world!
```

**æ¨¡å—å¯¼å…¥**
```python
import somemodule
from somemodule import somefunction
from somemodule import somefunction, anotherfunction, yetanotherfunction
from somemodule import *

æŒ‡å®šåˆ«å
from module1 import open as open1
from module2 import open as open2

>>> import math as foobar
>>> foobar.sqrt(4)
2.0
>>> from math import sqrt as foobar
>>> foobar(4)
2.0
```

**èµ‹å€¼è¯­å¥**

åºåˆ—è§£åŒ…ï¼ˆå¯è¿­ä»£å¯¹è±¡è§£åŒ…ï¼‰
```bat
>>> x, y, z = 1, 2, 3
>>> print(x, y, z)
1 2 3

äº¤æ¢å€¼
>>> x, y = y, x
>>> pr

>>> values = 1, 2, 3
>>> values
(1, 2, 3)
>>> x, y, z = values
>>> x
1

>>> scoundrel = {'name': 'Robin', 'girlfriend': 'Marion'}
>>> key, value = scoundrel.popitem()
>>> key
'girlfriend'
>>> value
'Marion'

>>> x, y, z = 1, 2
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
ValueError: need more than 2 values to unpack
>>> x, y, z = 1, 2, 3, 4
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
ValueError: too many values to unpack

å¯ä½¿ç”¨æ˜Ÿå·è¿ç®—ç¬¦ï¼ˆ*ï¼‰æ¥æ”¶é›†å¤šä½™çš„å€¼ï¼Œè¿™æ ·æ— éœ€ç¡®ä¿å€¼å’Œå˜é‡çš„ä¸ªæ•°ç›¸åŒ
>>> a, b, *rest = [1, 2, 3, 4]
>>> rest
[3, 4]
>>> name = "Albus Percival Wulfric Brian Dumbledore"
>>> first, *middle, last = name.split()
>>> middle
['Percival', 'Wulfric', 'Brian']

å¸¦æ˜Ÿå·çš„å˜é‡æœ€ç»ˆåŒ…å«çš„æ€»æ˜¯ä¸€ä¸ªåˆ—è¡¨
>>> a, *b, c = "abc"
>>> a, b, c
('a', ['b'], 'c')
```

**é“¾å¼èµ‹å€¼**
é“¾å¼èµ‹å€¼æ˜¯ä¸€ç§å¿«æ·æ–¹å¼ï¼Œç”¨äºå°†å¤šä¸ªå˜é‡å…³è”åˆ°åŒä¸€ä¸ªå€¼ã€‚
```bat
x = y = somefunction()
ç­‰ä»·ï¼š
y = somefunction()
x = y

è¯·æ³¨æ„ï¼Œè¿™ä¸¤æ¡è¯­å¥å¯èƒ½ä¸ä¸‹é¢çš„è¯­å¥ä¸ç­‰ä»·ï¼š
x = somefunction()
y = somefunction()
```

**å¢å¼ºèµ‹å€¼**
ä½¿ç”¨å¢å¼ºèµ‹å€¼ï¼Œå¯è®©ä»£ç æ›´ç´§å‡‘ã€æ›´ç®€æ´ï¼Œå¯è¯»æ€§æ›´å¼º
```bat
x = x + 1
ç­‰åŒ
x += 1

>>> x = 2
>>> x += 1
>>> x *= 2
>>> x
6

>>> fnord = 'foo'
>>> fnord += 'bar'
>>> fnord *= 2
>>> fnord
'foobarfoobar'
```

**ä»£ç å—**
æ˜¯é€šè¿‡ç¼©è¿›ä»£ç ï¼ˆå³åœ¨å‰é¢åŠ ç©ºæ ¼ï¼‰æ¥åˆ›å»ºçš„ã€‚
æ¨èä½¿ç”¨4ä¸ªç©ºæ ¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨Tabã€‚

**æ¡ä»¶è¯­å¥**
ä¸‹é¢çš„å€¼éƒ½å°†è¢«è§£é‡Šå™¨è§†ä¸ºå‡ï¼š
`False None 0 "" () [] {}`

å®é™…ä¸Šï¼ŒTrueå’ŒFalseä¸è¿‡æ˜¯0å’Œ1çš„åˆ«åï¼Œè™½ç„¶çœ‹èµ·æ¥ä¸åŒï¼Œä½†ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚
æ ‡å‡†çœŸå€¼ä¸º0ï¼ˆè¡¨ç¤ºå‡ï¼‰å’Œ1ï¼ˆè¡¨ç¤ºçœŸï¼‰ã€‚
```bat
>>> True
True
>>> False
False
>>> True == 1
True
>>> False == 0
True
>>> True + False + 42
43

ä»»ä½•å€¼éƒ½å¯ç”¨ä½œå¸ƒå°”å€¼ï¼Œå› æ­¤å‡ ä¹ä¸éœ€è¦æ˜¾å¼åœ°è¿›è¡Œè½¬æ¢ï¼ˆPythonä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ã€‚
>>> bool('I think, therefore I am')
True
>>> bool(42)
True
>>> bool('')
False
>>> bool(0)
False
```

**æ¡ä»¶è¡¨è¾¾å¼**
`status = "friend" if name.endswith("Gumby") else "stranger"`

```python
num = int(input('Enter a number: '))
if num > 0:
    print('The number is positive')
elif num < 0:
    print('The number is negative')
else:
    print('The number is zero')
```

**æ¯”è¾ƒè¿ç®—ç¬¦**
```text
x == y
x ç­‰äºy
x < y
xå°äºy
x > y
xå¤§äºy
x >= y
xå¤§äºæˆ–ç­‰äºy
x <= y
xå°äºæˆ–ç­‰äºy
x != y
xä¸ç­‰äºy
x is y
xå’Œyæ˜¯åŒä¸€ä¸ªå¯¹è±¡
x is not y
xå’Œyæ˜¯ä¸åŒçš„å¯¹è±¡
x in y
xæ˜¯å®¹å™¨ï¼ˆå¦‚åºåˆ—ï¼‰yçš„æˆå‘˜
x not in y
xä¸æ˜¯å®¹å™¨ï¼ˆå¦‚åºåˆ—ï¼‰yçš„æˆå‘˜
```

**ç›¸ç­‰è¿ç®—ç¬¦**
```bat
>>> "foo" == "foo"
True
>>> "foo" == "bar"
False

>>> "foo" = "foo"
SyntaxError: can't assign to literal
```

**isï¼šç›¸åŒè¿ç®—ç¬¦**
```bat
>>> x = y = [1, 2, 3]
>>> z = [1, 2, 3]
>>> x == y
True
>>> x == z
True
>>> x is y
True
>>> x is z
False
```

**æ€»ä¹‹ï¼Œ`==`ç”¨æ¥æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œè€Œ`is`ç”¨æ¥æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒï¼ˆæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚**
```bat
>>> x = [1, 2, 3]
>>> y = [2, 4]
>>> x is not y
True
>>> del x[2]
>>> y[1] = 1
>>> y.reverse()
>>> x == y
True
>>> x is y
False
```

**å­—ç¬¦ä¸²å’Œåºåˆ—çš„æ¯”è¾ƒ**
å­—ç¬¦ä¸²æ˜¯æ ¹æ®å­—ç¬¦çš„å­—æ¯æ’åˆ—é¡ºåºè¿›è¡Œæ¯”è¾ƒçš„ã€‚
```bat
>>> "alpha" < "beta"
True
```

**é“¾å¼æ¯”è¾ƒ**
`1 <= number <= 10`

**æ–­è¨€**
å…³é”®å­—`assert`
å¯åœ¨ç¨‹åºä¸­æ·»åŠ assertè¯­å¥å……å½“æ£€æŸ¥ç‚¹ï¼Œè¿™å¾ˆæœ‰å¸®åŠ©ã€‚
```bat
>>> age = 10
>>> assert 0 < age < 100
>>> age = -1
>>> assert 0 < age < 100
Traceback (most recent call last):
File "<stdin>", line 1, in ?
AssertionError

è¿˜å¯åœ¨æ¡ä»¶åé¢æ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹æ–­è¨€åšå‡ºè¯´æ˜ã€‚
>>> age = -1
>>> assert 0 < age < 100, 'The age must be realistic'
Traceback (most recent call last):
File "<stdin>", line 1, in ?
AssertionError: The age must be realistic
```

**å¾ªç¯**
åªè¦èƒ½å¤Ÿä½¿ç”¨forå¾ªç¯ï¼Œå°±ä¸è¦ä½¿ç”¨whileå¾ªç¯ã€‚
```bat
>>> range(0, 10)
range(0, 10)
>>> list(range(0, 10))
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

**å­—å…¸å…ƒç´ çš„æ’åˆ—é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚è¦è®©æ˜ å°„è®°ä½å…¶é¡¹çš„æ’å…¥é¡ºåºï¼Œå¯ä½¿ç”¨æ¨¡å—collectionsä¸­çš„OrderedDictç±»ã€‚**

**å¹¶è¡Œè¿­ä»£**
ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å¹¶è¡Œè¿­ä»£å·¥å…·æ˜¯å†…ç½®å‡½æ•°`zip`ï¼Œå®ƒå°†ä¸¤ä¸ªåºåˆ—â€œç¼åˆâ€èµ·æ¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªç”±å…ƒç»„ç»„æˆçš„åºåˆ—ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªé€‚åˆè¿­ä»£çš„å¯¹è±¡ã€‚
```bat
>>> list(zip(names, ages))
[('anne', 12), ('beth', 45), ('george', 32), ('damon', 102)]

for name, age in zip(names, ages):
    print(name, 'is', age, 'years old')

å‡½æ•°zipå¯ç”¨äºâ€œç¼åˆâ€ä»»æ„æ•°é‡çš„åºåˆ—ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œå½“åºåˆ—çš„é•¿åº¦ä¸åŒæ—¶ï¼Œå‡½æ•°zipå°†åœ¨æœ€çŸ­çš„åºåˆ—ç”¨å®Œååœæ­¢â€œç¼åˆâ€ã€‚
>>> list(zip(range(5), range(100000000)))
[(0, 0), (1, 1), (2, 2), (3, 3), (4, 4)]
```

**å†…ç½®å‡½æ•°enumerate**
```python
for index, string in enumerate(strings):
    if 'xxx' in string:
        strings[index] = '[censored]'
```

å¯ä»¥åœ¨å¾ªç¯æœ«å°¾æ·»åŠ ä¸€ä¸ªelseå­å¥ï¼Œå®ƒå°†åœ¨æ²¡æœ‰æ‰§è¡Œå¾ªç¯ä¸­çš„ä»»ä½•breakè¯­å¥æ—¶æ‰§è¡Œã€‚
```python
from math import sqrt
for n in range(99, 81, -1):
    root = sqrt(n)
    if root == int(root):
        print(n)
        break
else: 
    print("Didn't find it!")
```

**åˆ—è¡¨æ¨å¯¼**
> æ˜¯ä¸€ç§ä»å…¶ä»–åˆ—è¡¨åˆ›å»ºåˆ—è¡¨çš„æ–¹å¼ï¼Œç±»ä¼¼äºæ•°å­¦ä¸­çš„é›†åˆæ¨å¯¼ã€‚
> åˆ—è¡¨æ¨å¯¼çš„å·¥ä½œåŸç†éå¸¸ç®€å•ï¼Œæœ‰ç‚¹ç±»ä¼¼äºforå¾ªç¯ã€‚

```bat
>>> [x * x for x in range(10)]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

>>> [x*x for x in range(10) if x % 3 == 0]
[0, 9, 36, 81]

>>> [(x, y) for x in range(3) for y in range(3)]
[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]
```

**ä½¿ç”¨åœ†æ‹¬å·ä»£æ›¿æ–¹æ‹¬å·å¹¶ä¸èƒ½å®ç°å…ƒç»„æ¨å¯¼ï¼Œè€Œæ˜¯å°†åˆ›å»ºç”Ÿæˆå™¨**

**å­—å…¸æ¨å¯¼**
```bat
>>> squares = {i:"{} squared is {}".format(i, i**2) for i in range(10)}
>>> squares[8]
'8 squared is 64'
```

**passè¯­å¥**
å°†å…¶ç”¨ä½œå ä½ç¬¦ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚

**delè¯­å¥**
**delè¯­å¥ç”¨äºåˆ é™¤å˜é‡æˆ–æ•°æ®ç»“æ„çš„æˆå‘˜ï¼Œä½†ä¸èƒ½ç”¨äºåˆ é™¤å€¼ã€‚**
è§£é‡Šå™¨ä¼šåˆ é™¤å¯¹è±¡ï¼Œä¹Ÿç®—gc
ä¸ä»…ä¼šåˆ é™¤åˆ°å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿˜ä¼šåˆ é™¤åç§°æœ¬èº«
```bat
>>> x = 1
>>> del x
>>> x
Traceback (most recent call last):
File "<pyshell#255>", line 1, in ?
x
NameError: name 'x' is not defined

>>> x = ["Hello", "world"]
>>> y = x
>>> y[1] = "Python"
>>> x
['Hello', 'Python']
>>> del x
>>> y
['Hello', 'Python']
```

**exec å’Œ eval è¯­å¥**
- å‡½æ•°execç”¨äºå°†å­—ç¬¦ä¸²ä½œä¸ºPythonç¨‹åºæ‰§è¡Œã€‚
- å‡½æ•°evalè®¡ç®—ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„è¡¨è¾¾å¼å¹¶è¿”å›ç»“æœã€‚
```bat
å‡½æ•°execå°†å­—ç¬¦ä¸²ä½œä¸ºä»£ç æ‰§è¡Œã€‚
å‡½æ•°execä¸»è¦ç”¨äºåŠ¨æ€åœ°åˆ›å»ºä»£ç å­—ç¬¦ä¸²ã€‚
>>> exec("print('Hello, world!')")
Hello, world!
```

```bat
>>> from math import sqrt
>>> exec("sqrt = 1")
>>> sqrt(4)
Traceback (most recent call last):
File "<pyshell#18>", line 1, in ?
sqrt(4)
TypeError: object is not callable: 1

è§£å†³åŠæ³•ï¼šä½¿ç”¨å‘½åç©ºé—´
>>> from math import sqrt
>>> scope = {}
>>> exec('sqrt = 1', scope)
>>> sqrt(4)
2.0
>>> scope['sqrt']
1
```

evalæ˜¯ä¸€ä¸ªç±»ä¼¼äºexecçš„å†…ç½®å‡½æ•°ã€‚
execæ‰§è¡Œä¸€ç³»åˆ—Pythonè¯­å¥ï¼Œè€Œevalè®¡ç®—ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„Pythonè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶è¿”å›ç»“æœï¼ˆexecä»€ä¹ˆéƒ½ä¸è¿”å›ï¼Œå› ä¸ºå®ƒæœ¬èº«æ˜¯æ¡è¯­å¥ï¼‰ã€‚
```bat
>>> eval(input("Enter an arithmetic expression: "))
Enter an arithmetic expression: 6 + 18 * 2
42
```

# 6ã€æŠ½è±¡


# 7ã€é¢å‘å¯¹è±¡


# 8ã€å¼‚å¸¸


# 9ã€é­”æ³•æ–¹æ³•ã€ç‰¹æ€§å’Œè¿­ä»£å™¨

# 10ã€æ¨¡å—

# 11ã€æ–‡ä»¶æ“ä½œ

# 12ã€GUIå¼€å‘

# 13ã€æ•°æ®åº“æ“ä½œ


# 14ã€ç½‘ç»œç¼–ç¨‹

# 15ã€Webå¼€å‘


# 16ã€æµ‹è¯•


# 17ã€FFIæ‰©å±•

# 18ã€exeæ‰“åŒ…


# 18ã€